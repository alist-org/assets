;(function(){function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2){throw _e2;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e3){didErr=true;err=_e3;},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof(obj);}var __vite_style__=document.createElement('style');__vite_style__.innerHTML=".react-contexify{position:fixed;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#fff;box-sizing:border-box;box-shadow:0 10px 30px -5px rgba(0,0,0,.3);border-radius:6px;padding:6px 0;min-width:200px;z-index:100}.react-contexify__submenu--is-open,.react-contexify__submenu--is-open>.react-contexify__item__content{color:#fff;background-color:#4393e6}.react-contexify__submenu--is-open>.react-contexify__submenu{pointer-events:initial;opacity:1}.react-contexify .react-contexify__submenu{position:absolute;top:-6px;pointer-events:none;transition:opacity .275s}.react-contexify__submenu-arrow{margin-left:auto;font-size:12px}.react-contexify__separator{width:100%;height:1px;cursor:default;margin:4px 0;background-color:rgba(0,0,0,.2)}.react-contexify__will-leave--disabled{pointer-events:none}.react-contexify__item{cursor:pointer;position:relative}.react-contexify__item:focus{outline:0}.react-contexify__item:not(.react-contexify__item--disabled):hover>.react-contexify__item__content,.react-contexify__item:not(.react-contexify__item--disabled):focus>.react-contexify__item__content{color:#fff;background-color:#4393e6}.react-contexify__item:not(.react-contexify__item--disabled):hover>.react-contexify__submenu{pointer-events:initial;opacity:1}.react-contexify__item--disabled{cursor:default;opacity:.5}.react-contexify__item__content{padding:6px 12px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;white-space:nowrap;color:#333;position:relative}.react-contexify__theme--dark,.react-contexify__theme--dark .react-contexify__submenu{background-color:rgba(40,40,40,.98)}.react-contexify__theme--dark .react-contexify__separator{background-color:#eee}.react-contexify__theme--dark .react-contexify__item__content{color:#fff}.react-contexify__theme--light .react-contexify__separator{background-color:#eee}.react-contexify__theme--light .react-contexify__submenu--is-open,.react-contexify__theme--light .react-contexify__submenu--is-open>.react-contexify__item__content{color:#4393e6;background-color:#e0eefd}.react-contexify__theme--light .react-contexify__item:not(.react-contexify__item--disabled):hover>.react-contexify__item__content,.react-contexify__theme--light .react-contexify__item:not(.react-contexify__item--disabled):focus>.react-contexify__item__content{color:#4393e6;background-color:#e0eefd}.react-contexify__theme--light .react-contexify__item__content{color:#666}@keyframes react-contexify__scaleIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:1}}@keyframes react-contexify__scaleOut{0%{opacity:1}to{opacity:0;transform:scale3d(.3,.3,.3)}}.react-contexify__will-enter--scale{transform-origin:top left;animation:react-contexify__scaleIn .3s}.react-contexify__will-leave--scale{transform-origin:top left;animation:react-contexify__scaleOut .3s}@keyframes react-contexify__fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes react-contexify__fadeOut{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(10px)}}.react-contexify__will-enter--fade{animation:react-contexify__fadeIn .3s ease}.react-contexify__will-leave--fade{animation:react-contexify__fadeOut .3s ease}@keyframes react-contexify__flipInX{0%{transform:perspective(800px) rotateX(45deg)}to{transform:perspective(800px)}}@keyframes react-contexify__flipOutX{0%{transform:perspective(800px)}to{transform:perspective(800px) rotateX(45deg);opacity:0}}.react-contexify__will-enter--flip{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;transform-origin:top center;animation:react-contexify__flipInX .3s}.react-contexify__will-leave--flip{transform-origin:top center;animation:react-contexify__flipOutX .3s;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@keyframes swing-in-top-fwd{0%{transform:rotateX(-100deg);transform-origin:top;opacity:0}to{transform:rotateX(0);transform-origin:top;opacity:1}}@keyframes react-contexify__slideIn{0%{opacity:0;transform:scaleY(.3)}to{opacity:1}}@keyframes react-contexify__slideOut{0%{opacity:1}to{opacity:0;transform:scaleY(.3)}}.react-contexify__will-enter--slide{transform-origin:top center;animation:react-contexify__slideIn .3s}.react-contexify__will-leave--slide{transform-origin:top center;animation:react-contexify__slideOut .3s}\n";document.head.appendChild(__vite_style__);System.register(['./vendor-legacy.ccfeaf22.js','./index.esm-legacy.1f5a7195.js','./index-legacy.084bd52a.js','./clsx.m-legacy.06e05998.js','./copy-clip-legacy.98530339.js','./index-legacy.3de0dba3.js'],function(exports){'use strict';var react,reactDom,commonjsGlobal,getDefaultExportFromCjs,React,useToast,useTranslation,useLocation,Modal,ModalOverlay,ModalContent,ModalHeader,ModalCloseButton,ModalBody,Input,ModalFooter,Button,Box,Flex,Icon,useDisclosure,useColorModeValue,Spinner,Text,useHistory,ScaleFade,Tooltip,Image$1,reactSpinners,Link,LinkBox,LinkOverlay,Grid,HStack,Checkbox,VStack,chakra,Menu$1,MenuList,MenuOptionGroup,MenuItemOption,MenuButton,Center,useBreakpointValue,IContext,instance,GenIcon,BsCaretDownFill,BsCaretRightFill,admin,MdDriveFileMove,FiCopy,axios,MdDeleteForever,useFolderLink,useEncrypt,FcPlus,useApi,bus,IoIosFolder,pathJoin$1,FcSynchronize,md5_16,useFileUrl,FcTodoList,FcSupport,FcInternal,FcDownload,FcLink,FcRefresh,FcAlphabeticalSortingAz,FcNumericalSorting12,FcClock,getIcon,getFileSize,cx,copyToClip;return{setters:[function(module){react=module.r;reactDom=module.ad;commonjsGlobal=module.ae;getDefaultExportFromCjs=module.af;React=module.R;useToast=module.h;useTranslation=module.j;useLocation=module.u;Modal=module.W;ModalOverlay=module.X;ModalContent=module.Y;ModalHeader=module.Z;ModalCloseButton=module._;ModalBody=module.$;Input=module.I;ModalFooter=module.a0;Button=module.G;Box=module.n;Flex=module.F;Icon=module.s;useDisclosure=module.k;useColorModeValue=module.l;Spinner=module.v;Text=module.E;useHistory=module.o;ScaleFade=module.ag;Tooltip=module.q;Image$1=module.t;reactSpinners=module.a;Link=module.L;LinkBox=module.Q;LinkOverlay=module.U;Grid=module.ah;HStack=module.p;Checkbox=module.ai;VStack=module.V;chakra=module.aj;Menu$1=module.a4;MenuList=module.a6;MenuOptionGroup=module.ak;MenuItemOption=module.al;MenuButton=module.a5;Center=module.C;useBreakpointValue=module.am;},function(module){IContext=module.I;instance=module.i;GenIcon=module.G;BsCaretDownFill=module.K;BsCaretRightFill=module.L;admin=module.b;MdDriveFileMove=module.N;FiCopy=module.P;axios=module.a;MdDeleteForever=module.Q;},function(module){useFolderLink=module.u;useEncrypt=module.a;FcPlus=module.F;useApi=module.b;bus=module.c;IoIosFolder=module.I;pathJoin$1=module.p;FcSynchronize=module.d;md5_16=module.m;useFileUrl=module.e;FcTodoList=module.f;FcSupport=module.g;FcInternal=module.h;FcDownload=module.i;FcLink=module.j;FcRefresh=module.k;FcAlphabeticalSortingAz=module.l;FcNumericalSorting12=module.n;FcClock=module.o;getIcon=module.q;getFileSize=module.r;},function(module){cx=module.c;},function(module){copyToClip=module.c;},function(){}],execute:function execute(){var dist={exports:{}};(function(module,exports){!function(A,e){module.exports=e(react.exports,reactDom.exports);}(commonjsGlobal,function(A,e){return function(A){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return A[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports;}return t.m=A,t.c=e,t.d=function(A,e,n){t.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:n});},t.r=function(A){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0});},t.t=function(A,e){if(1&e&&(A=t(A)),8&e)return A;if(4&e&&"object"==_typeof(A)&&A&&A.__esModule)return A;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:A}),2&e&&"string"!=typeof A)for(var i in A){t.d(n,i,function(e){return A[e];}.bind(null,i));}return n;},t.n=function(A){var e=A&&A.__esModule?function(){return A.default;}:function(){return A;};return t.d(e,"a",e),e;},t.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e);},t.p="",t(t.s=3);}([function(e,t){e.exports=A;},function(A,e,t){var n;/*!
        Copyright (c) 2018 Jed Watson.
        Licensed under the MIT License (MIT), see
        http://jedwatson.github.io/classnames
      */!function(){var t={}.hasOwnProperty;function i(){for(var A=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=_typeof(n);if("string"===o||"number"===o)A.push(n);else if(Array.isArray(n)){if(n.length){var r=i.apply(null,n);r&&A.push(r);}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n){t.call(n,a)&&n[a]&&A.push(a);}else A.push(n.toString());}}return A.join(" ");}A.exports?(i.default=i,A.exports=i):void 0===(n=function(){return i;}.apply(e,[]))||(A.exports=n);}();},function(A,t){A.exports=e;},function(A,e,t){A.exports=t(13);},function(A,e,t){var n=t(5),i=t(6);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[A.i,i,""]]);var o={insert:"head",singleton:!1};n(i,o);A.exports=i.locals||{};},function(A,e,t){var n,i=function i(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n;},o=function(){var A={};return function(e){if(void 0===A[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head;}catch(A){t=null;}A[e]=t;}return A[e];};}(),r=[];function a(A){for(var e=-1,t=0;t<r.length;t++){if(r[t].identifier===A){e=t;break;}}return e;}function c(A,e){for(var t={},n=[],i=0;i<A.length;i++){var o=A[i],c=e.base?o[0]+e.base:o[0],l=t[c]||0,g="".concat(c," ").concat(l);t[c]=l+1;var u=a(g),s={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(s)):r.push({identifier:g,updater:E(s,e),references:1}),n.push(g);}return n;}function l(A){var e=document.createElement("style"),n=A.attributes||{};if(void 0===n.nonce){var i=t.nc;i&&(n.nonce=i);}if(Object.keys(n).forEach(function(A){e.setAttribute(A,n[A]);}),"function"==typeof A.insert)A.insert(e);else{var r=o(A.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e);}return e;}var g,u=(g=[],function(A,e){return g[A]=e,g.filter(Boolean).join("\n");});function s(A,e,t,n){var i=t?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(A.styleSheet)A.styleSheet.cssText=u(e,i);else{var o=document.createTextNode(i),r=A.childNodes;r[e]&&A.removeChild(r[e]),r.length?A.insertBefore(o,r[e]):A.appendChild(o);}}function M(A,e,t){var n=t.css,i=t.media,o=t.sourceMap;if(i?A.setAttribute("media",i):A.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),A.styleSheet)A.styleSheet.cssText=n;else{for(;A.firstChild;){A.removeChild(A.firstChild);}A.appendChild(document.createTextNode(n));}}var d=null,w=0;function E(A,e){var t,n,i;if(e.singleton){var o=w++;t=d||(d=l(e)),n=s.bind(null,t,o,!1),i=s.bind(null,t,o,!0);}else t=l(e),n=M.bind(null,t,e),i=function i(){!function(A){if(null===A.parentNode)return!1;A.parentNode.removeChild(A);}(t);};return n(A),function(e){if(e){if(e.css===A.css&&e.media===A.media&&e.sourceMap===A.sourceMap)return;n(A=e);}else i();};}A.exports=function(A,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var t=c(A=A||[],e);return function(A){if(A=A||[],"[object Array]"===Object.prototype.toString.call(A)){for(var n=0;n<t.length;n++){var i=a(t[n]);r[i].references--;}for(var o=c(A,e),l=0;l<t.length;l++){var g=a(t[l]);0===r[g].references&&(r[g].updater(),r.splice(g,1));}t=o;}};};},function(A,e,t){var n=t(7),i=t(8),o=t(9),r=t(10),a=t(11),c=t(12);e=n(!1);var l=i(o),g=i(o,{hash:"?#iefix"}),u=i(r),s=i(a),M=i(c);e.push([A.i,"@font-face {\n  font-family: 'icomoon';\n  src: url("+l+");\n  src: url("+g+") format('embedded-opentype'), url("+u+") format('truetype'), url("+s+") format('woff'), url("+M+") format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n.react-viewer {\n  opacity: 0;\n}\n.react-viewer-inline {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  min-height: 400px;\n}\n.react-viewer ul {\n  margin: 0;\n  padding: 0;\n}\n.react-viewer li {\n  list-style: none;\n}\n.react-viewer-mask {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background-color: #373737;\n  background-color: rgba(55, 55, 55, 0.6);\n  height: 100%;\n  filter: alpha(opacity=50);\n  z-index: 1000;\n}\n.react-viewer-btn {\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n}\n.react-viewer-btn:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.react-viewer-close {\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  overflow: hidden;\n  width: 40px;\n  height: 40px;\n  border-radius: 0 0 0 40px;\n  cursor: pointer;\n  z-index: 1010;\n}\n.react-viewer-close > i {\n  position: relative;\n  top: 4px;\n  left: 18px;\n}\n.react-viewer-canvas {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow: hidden;\n  z-index: 1005;\n}\n.react-viewer-canvas > img {\n  display: block;\n  width: auto;\n  height: auto;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.react-viewer-canvas > img.drag {\n  cursor: move;\n}\n.react-viewer-footer {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  text-align: center;\n  z-index: 1005;\n}\n.react-viewer-inline > .react-viewer-mask,\n.react-viewer-inline > .react-viewer-close,\n.react-viewer-inline > .react-viewer-canvas,\n.react-viewer-inline > .react-viewer-footer {\n  position: absolute;\n}\n.react-viewer-attribute {\n  margin: 0 20px;\n  margin-bottom: 6px;\n  opacity: 0.8;\n  color: #ccc;\n  font-size: 15px;\n}\n.react-viewer-showTotal {\n  float: right;\n}\n.react-viewer-toolbar {\n  overflow: hidden;\n  height: 28px;\n  margin-bottom: 6px !important;\n}\n.react-viewer-toolbar li {\n  display: inline-block;\n  width: 28px;\n  height: 28px;\n  border-radius: 28px;\n  margin-right: 3px;\n  cursor: pointer;\n  line-height: 28px;\n}\n.react-viewer-toolbar li:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.react-viewer li.empty {\n  background-color: transparent;\n  cursor: default;\n}\n.react-viewer-navbar {\n  overflow: hidden;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n.react-viewer-list {\n  height: 50px;\n  padding: 1px;\n  text-align: left;\n}\n.react-viewer-list > li {\n  display: inline-block;\n  width: 30px;\n  height: 50px;\n  cursor: pointer;\n  overflow: hidden;\n  margin-right: 1px;\n}\n.react-viewer-list > li > img {\n  width: 60px;\n  height: 50px;\n  margin-left: -15px;\n  opacity: 0.5;\n}\n.react-viewer-list > li.active > img {\n  opacity: 1;\n}\n.react-viewer-transition {\n  -webkit-transition: opacity 0.3s ease-out;\n  -o-transition: opacity 0.3s ease-out;\n  transition: opacity 0.3s ease-out;\n}\n.react-viewer-image-transition {\n  -webkit-transition-property: width, height, margin, -webkit-transform;\n  transition-property: width, height, margin, -webkit-transform;\n  -o-transition-property: width, height, margin, transform;\n  transition-property: width, height, margin, transform;\n  transition-property: width, height, margin, transform, -webkit-transform;\n  -webkit-transition-duration: 0.3s;\n       -o-transition-duration: 0.3s;\n          transition-duration: 0.3s;\n  -webkit-transition-timing-function: ease-out;\n       -o-transition-timing-function: ease-out;\n          transition-timing-function: ease-out;\n}\n.react-viewer-list-transition {\n  -webkit-transition: margin 0.3s ease-out;\n  -o-transition: margin 0.3s ease-out;\n  transition: margin 0.3s ease-out;\n}\n.react-viewer-icon {\n  font-family: 'icomoon' !important;\n  display: inline-block;\n  font-style: normal;\n  vertical-align: baseline;\n  text-align: center;\n  text-transform: none;\n  text-rendering: auto;\n  line-height: 1;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: white;\n  font-size: 13px;\n}\n.react-viewer-icon-zoomIn:before {\n  content: '\\ea0a';\n}\n.react-viewer-icon-zoomOut:before {\n  content: '\\ea0b';\n}\n.react-viewer-icon-prev:before {\n  content: '\\ea38';\n}\n.react-viewer-icon-next:before {\n  content: '\\ea34';\n}\n.react-viewer-icon-close:before {\n  content: '\\ea0f';\n}\n.react-viewer-icon-rotateLeft:before {\n  content: '\\e967';\n}\n.react-viewer-icon-rotateRight:before {\n  content: '\\e968';\n}\n.react-viewer-icon-reset:before {\n  content: '\\e984';\n}\n.react-viewer-icon-scaleX:before {\n  content: '\\ea60';\n}\n.react-viewer-icon-scaleY:before {\n  content: '\\ea5f';\n}\n.react-viewer-icon-download:before {\n  content: '\\e9c7';\n}\n.circle-loading {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 80px;\n  height: 80px;\n  border-radius: 100%;\n  border: 10px solid rgba(255, 255, 255, 0.2);\n  border-top-color: #FFF;\n  -webkit-animation: spin 1s infinite linear;\n          animation: spin 1s infinite linear;\n}\n@-webkit-keyframes spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n",""]),A.exports=e;},function(A,e,t){A.exports=function(A){var e=[];return e.toString=function(){return this.map(function(e){var t=function(A,e){var t=A[1]||"",n=A[3];if(!n)return t;if(e&&"function"==typeof btoa){var i=(r=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=n.sources.map(function(A){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(A," */");});return[t].concat(o).concat([i]).join("\n");}var r,a,c;return[t].join("\n");}(e,A);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t;}).join("");},e.i=function(A,t,n){"string"==typeof A&&(A=[[null,A,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0);}for(var a=0;a<A.length;a++){var c=[].concat(A[a]);n&&i[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),e.push(c));}},e;};},function(A,e,t){A.exports=function(A,e){return e||(e={}),"string"!=typeof(A=A&&A.__esModule?A.default:A)?A:(/^['"].*['"]$/.test(A)&&(A=A.slice(1,-1)),e.hash&&(A+=e.hash),/["'() \t\n]/.test(A)||e.needQuotes?'"'.concat(A.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):A);};},function(A,e){A.exports="data:application/vnd.ms-fontobject;base64,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";},function(A,e){A.exports="data:font/ttf;base64,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";},function(A,e){A.exports="data:font/woff;base64,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";},function(A,e){A.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiID4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8bWV0YWRhdGE+R2VuZXJhdGVkIGJ5IEljb01vb248L21ldGFkYXRhPgo8ZGVmcz4KPGZvbnQgaWQ9Imljb21vb24iIGhvcml6LWFkdi14PSIxMDI0Ij4KPGZvbnQtZmFjZSB1bml0cy1wZXItZW09IjEwMjQiIGFzY2VudD0iOTYwIiBkZXNjZW50PSItNjQiIC8+CjxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIxMDI0IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4MjA7IiBob3Jpei1hZHYteD0iNTEyIiBkPSIiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlOTY3OyIgZ2x5cGgtbmFtZT0icm90YXRlLWxlZnQiIGQ9Ik03NjEuODYyLTY0YzExMy43MjYgMjA2LjAzMiAxMzIuODg4IDUyMC4zMDYtMzEzLjg2MiA1MDkuODI0di0yNTMuODI0bC0zODQgMzg0IDM4NCAzODR2LTI0OC4zNzJjNTM0Ljk2MiAxMy45NDIgNTk0LjU3LTQ3Mi4yMTQgMzEzLjg2Mi03NzUuNjI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5Njg7IiBnbHlwaC1uYW1lPSJyb3RhdGUtcmlnaHQiIGQ9Ik01NzYgNzExLjYyOHYyNDguMzcybDM4NC0zODQtMzg0LTM4NHYyNTMuODI0Yy00NDYuNzUgMTAuNDgyLTQyNy41ODgtMzAzLjc5Mi0zMTMuODYtNTA5LjgyNC0yODAuNzEyIDMwMy40MTQtMjIxLjEgNzg5LjU3IDMxMy44NiA3NzUuNjI4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGU5ODQ7IiBnbHlwaC1uYW1lPSJyZXNldCIgZD0iTTEwMjQgNTc2aC0zODRsMTQzLjUzIDE0My41M2MtNzIuNTMgNzIuNTI2LTE2OC45NiAxMTIuNDctMjcxLjUzIDExMi40N3MtMTk5LTM5Ljk0NC0yNzEuNTMtMTEyLjQ3Yy03Mi41MjYtNzIuNTMtMTEyLjQ3LTE2OC45Ni0xMTIuNDctMjcxLjUzczM5Ljk0NC0xOTkgMTEyLjQ3LTI3MS41M2M3Mi41My03Mi41MjYgMTY4Ljk2LTExMi40NyAyNzEuNTMtMTEyLjQ3czE5OSAzOS45NDQgMjcxLjUyOCAxMTIuNDcyYzYuMDU2IDYuMDU0IDExLjg2IDEyLjI5MiAxNy40NTYgMTguNjY4bDk2LjMyLTg0LjI4MmMtOTMuODQ2LTEwNy4xNjYtMjMxLjY2NC0xNzQuODU4LTM4NS4zMDQtMTc0Ljg1OC0yODIuNzcgMC01MTIgMjI5LjIzLTUxMiA1MTJzMjI5LjIzIDUxMiA1MTIgNTEyYzE0MS4zODYgMCAyNjkuMzY4LTU3LjMyNiAzNjIuMDE2LTE0OS45ODRsMTQ5Ljk4NCAxNDkuOTg0di0zODR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZTljNzsiIGdseXBoLW5hbWU9ImRvd25sb2FkIiBkPSJNNzM2IDUxMmwtMjU2LTI1Ni0yNTYgMjU2aDE2MHYzODRoMTkydi0zODR6TTQ4MCAyNTZoLTQ4MHYtMjU2aDk2MHYyNTZoLTQ4MHpNODk2IDEyOGgtMTI4djY0aDEyOHYtNjR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWEwYTsiIGdseXBoLW5hbWU9Inpvb20taW4iIGQ9Ik05OTIgNTc2aC0zNTJ2MzUyYzAgMTcuNjcyLTE0LjMyOCAzMi0zMiAzMmgtMTkyYy0xNy42NzIgMC0zMi0xNC4zMjgtMzItMzJ2LTM1MmgtMzUyYy0xNy42NzIgMC0zMi0xNC4zMjgtMzItMzJ2LTE5MmMwLTE3LjY3MiAxNC4zMjgtMzIgMzItMzJoMzUydi0zNTJjMC0xNy42NzIgMTQuMzI4LTMyIDMyLTMyaDE5MmMxNy42NzIgMCAzMiAxNC4zMjggMzIgMzJ2MzUyaDM1MmMxNy42NzIgMCAzMiAxNC4zMjggMzIgMzJ2MTkyYzAgMTcuNjcyLTE0LjMyOCAzMi0zMiAzMnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlYTBiOyIgZ2x5cGgtbmFtZT0iem9vbS1vdXQiIGQ9Ik0wIDU0NHYtMTkyYzAtMTcuNjcyIDE0LjMyOC0zMiAzMi0zMmg5NjBjMTcuNjcyIDAgMzIgMTQuMzI4IDMyIDMydjE5MmMwIDE3LjY3Mi0xNC4zMjggMzItMzIgMzJoLTk2MGMtMTcuNjcyIDAtMzItMTQuMzI4LTMyLTMyeiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGVhMGY7IiBnbHlwaC1uYW1lPSJjbG9zZSIgZD0iTTEwMTQuNjYyIDEzNy4zNGMtMC4wMDQgMC4wMDQtMC4wMDggMC4wMDgtMC4wMTIgMC4wMTBsLTMxMC42NDQgMzEwLjY1IDMxMC42NDQgMzEwLjY1YzAuMDA0IDAuMDA0IDAuMDA4IDAuMDA2IDAuMDEyIDAuMDEwIDMuMzQ0IDMuMzQ2IDUuNzYyIDcuMjU0IDcuMzEyIDExLjQxNiA0LjI0NiAxMS4zNzYgMS44MjQgMjQuNjgyLTcuMzI0IDMzLjgzbC0xNDYuNzQ2IDE0Ni43NDZjLTkuMTQ4IDkuMTQ2LTIyLjQ1IDExLjU2Ni0zMy44MjggNy4zMi00LjE2LTEuNTUtOC4wNzAtMy45NjgtMTEuNDE4LTcuMzEgMC0wLjAwNC0wLjAwNC0wLjAwNi0wLjAwOC0wLjAxMGwtMzEwLjY0OC0zMTAuNjUyLTMxMC42NDggMzEwLjY1Yy0wLjAwNCAwLjAwNC0wLjAwNiAwLjAwNi0wLjAxMCAwLjAxMC0zLjM0NiAzLjM0Mi03LjI1NCA1Ljc2LTExLjQxNCA3LjMxLTExLjM4IDQuMjQ4LTI0LjY4MiAxLjgyNi0zMy44My03LjMybC0xNDYuNzQ4LTE0Ni43NDhjLTkuMTQ4LTkuMTQ4LTExLjU2OC0yMi40NTItNy4zMjItMzMuODI4IDEuNTUyLTQuMTYgMy45Ny04LjA3MiA3LjMxMi0xMS40MTYgMC4wMDQtMC4wMDIgMC4wMDYtMC4wMDYgMC4wMTAtMC4wMTBsMzEwLjY1LTMxMC42NDgtMzEwLjY1LTMxMC42NTJjLTAuMDAyLTAuMDA0LTAuMDA2LTAuMDA2LTAuMDA4LTAuMDEwLTMuMzQyLTMuMzQ2LTUuNzYtNy4yNTQtNy4zMTQtMTEuNDE0LTQuMjQ4LTExLjM3Ni0xLjgyNi0yNC42ODIgNy4zMjItMzMuODNsMTQ2Ljc0OC0xNDYuNzQ2YzkuMTUtOS4xNDggMjIuNDUyLTExLjU2OCAzMy44My03LjMyMiA0LjE2IDEuNTUyIDguMDcwIDMuOTcgMTEuNDE2IDcuMzEyIDAuMDAyIDAuMDA0IDAuMDA2IDAuMDA2IDAuMDEwIDAuMDEwbDMxMC42NDggMzEwLjY1IDMxMC42NDgtMzEwLjY1YzAuMDA0LTAuMDAyIDAuMDA4LTAuMDA2IDAuMDEyLTAuMDA4IDMuMzQ4LTMuMzQ0IDcuMjU0LTUuNzYyIDExLjQxNC03LjMxNCAxMS4zNzgtNC4yNDYgMjQuNjg0LTEuODI2IDMzLjgyOCA3LjMyMmwxNDYuNzQ2IDE0Ni43NDhjOS4xNDggOS4xNDggMTEuNTcgMjIuNDU0IDcuMzI0IDMzLjgzLTEuNTUyIDQuMTYtMy45NyA4LjA2OC03LjMxNCAxMS40MTR6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWEzNDsiIGdseXBoLW5hbWU9Im5leHQiIGQ9Ik05OTIgNDQ4bC00ODAgNDgwdi0yODhoLTUxMnYtMzg0aDUxMnYtMjg4eiIgLz4KPGdseXBoIHVuaWNvZGU9IiYjeGVhMzg7IiBnbHlwaC1uYW1lPSJwcmV2IiBkPSJNMzIgNDQ4bDQ4MC00ODB2Mjg4aDUxMnYzODRoLTUxMnYyODh6IiAvPgo8Z2x5cGggdW5pY29kZT0iJiN4ZWE1ZjsiIGdseXBoLW5hbWU9InNjYWxlWSIgZD0iTTg5NiAxOTJoMTI4bC0xNjAtMTkyLTE2MCAxOTJoMTI4djUxMmgtMTI4bDE2MCAxOTIgMTYwLTE5MmgtMTI4ek02NDAgODk2di0yNTZsLTY0IDEyOGgtMTkydi03MDRoMTI4di02NGgtMzg0djY0aDEyOHY3MDRoLTE5MmwtNjQtMTI4djI1NnoiIC8+CjxnbHlwaCB1bmljb2RlPSImI3hlYTYwOyIgZ2x5cGgtbmFtZT0ic2NhbGVYIiBkPSJNMjU2IDY0di0xMjhsLTE5MiAxNjAgMTkyIDE2MHYtMTI4aDUxMnYxMjhsMTkyLTE2MC0xOTItMTYwdjEyOHpNODMyIDg5NnYtMjU2bC02NCAxMjhoLTE5MnYtNDQ4aDEyOHYtNjRoLTM4NHY2NGgxMjh2NDQ4aC0xOTJsLTY0LTEyOHYyNTZ6IiAvPgo8L2ZvbnQ+PC9kZWZzPjwvc3ZnPg==";},function(A,e,t){t.r(e);var n=t(0),i=t(2);t(4);function o(A){return n.createElement("div",{className:"loading-wrap",style:A.style},n.createElement("div",{className:"circle-loading"}));}var r,a=t(1),c=t.n(a);function l(A,e){return function(A){if(Array.isArray(A))return A;}(A)||function(A,e){var t=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null==t)return;var n,i,o=[],r=!0,a=!1;try{for(t=t.call(A);!(r=(n=t.next()).done)&&(o.push(n.value),!e||o.length!==e);r=!0){;}}catch(A){a=!0,i=A;}finally{try{r||null==t.return||t.return();}finally{if(a)throw i;}}return o;}(A,e)||function(A,e){if(!A)return;if("string"==typeof A)return g(A,e);var t=Object.prototype.toString.call(A).slice(8,-1);"Object"===t&&A.constructor&&(t=A.constructor.name);if("Map"===t||"Set"===t)return Array.from(A);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(A,e);}(A,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function g(A,e){(null==e||e>A.length)&&(e=A.length);for(var t=0,n=new Array(e);t<e;t++){n[t]=A[t];}return n;}function u(A){var e=n.useRef(!1),t=n.useRef({x:0,y:0}),i=l(n.useState({x:0,y:0}),2),r=i[0],a=i[1];function g(e){A.onResize();}function u(n){0===n.button&&A.visible&&A.drag&&(n.preventDefault(),n.stopPropagation(),e.current=!0,t.current={x:n.nativeEvent.clientX,y:n.nativeEvent.clientY});}n.useEffect(function(){return function(){w(!0),d(!0);};},[]),n.useEffect(function(){return d(),function(){d(!0);};}),n.useEffect(function(){return A.visible&&A.drag&&w(),!A.visible&&A.drag&&M(),function(){w(!0);};},[A.drag,A.visible]),n.useEffect(function(){var e=r.x-t.current.x,n=r.y-t.current.y;t.current={x:r.x,y:r.y},A.onChangeImgState(A.width,A.height,A.top+n,A.left+e);},[r]);var s=function s(A){e.current&&a({x:A.clientX,y:A.clientY});};function M(A){e.current=!1;}function d(A){var e="addEventListener";A&&(e="removeEventListener"),window[e]("resize",g,!1);}function w(A){var e="addEventListener";A&&(e="removeEventListener"),document[e]("click",M,!1),document[e]("mousemove",s,!1);}var E,f,B,I={width:"".concat(A.width,"px"),height:"".concat(A.height,"px"),transform:"\ntranslateX(".concat(null!==A.left?A.left+"px":"aoto",") translateY(").concat(A.top,"px)\n    rotate(").concat(A.rotate,"deg) scaleX(").concat(A.scaleX,") scaleY(").concat(A.scaleY,")")},y=c()("".concat(A.prefixCls,"-image"),(E={drag:A.drag},f="".concat(A.prefixCls,"-image-transition"),B=!e.current,f in E?Object.defineProperty(E,f,{value:B,enumerable:!0,configurable:!0,writable:!0}):E[f]=B,E)),D={zIndex:A.zIndex},v=null;return""!==A.imgSrc&&(v=n.createElement("img",{className:y,src:A.imgSrc,style:I,onMouseDown:u})),A.loading&&(v=n.createElement("div",{style:{display:"flex",height:"".concat(window.innerHeight-84,"px"),justifyContent:"center",alignItems:"center"}},n.createElement(o,null))),n.createElement("div",{className:"".concat(A.prefixCls,"-canvas"),onMouseDown:function onMouseDown(e){A.onCanvasMouseDown(e),u(e);},style:D},v);}function s(A){var e=A.activeIndex,t=void 0===e?0:e;var i={marginLeft:"calc(50% - ".concat(t+1," * 31px)")};return n.createElement("div",{className:"".concat(A.prefixCls,"-navbar")},n.createElement("ul",{className:"".concat(A.prefixCls,"-list ").concat(A.prefixCls,"-list-transition"),style:i},A.images.map(function(e,i){return n.createElement("li",{key:i,className:i===t?"active":"",onClick:function onClick(){var e;t!==(e=i)&&A.onChangeImg(e);}},n.createElement("img",{src:e.thumbnail?e.thumbnail:e.src,alt:e.alt}));})));}function M(A){return n.createElement("i",{className:"".concat("react-viewer-icon"," ").concat("react-viewer-icon","-").concat(r[A.type])});}!function(A){A[A.zoomIn=1]="zoomIn",A[A.zoomOut=2]="zoomOut",A[A.prev=3]="prev",A[A.next=4]="next",A[A.rotateLeft=5]="rotateLeft",A[A.rotateRight=6]="rotateRight",A[A.reset=7]="reset",A[A.close=8]="close",A[A.scaleX=9]="scaleX",A[A.scaleY=10]="scaleY",A[A.download=11]="download";}(r||(r={}));var d=[{key:"zoomIn",actionType:r.zoomIn},{key:"zoomOut",actionType:r.zoomOut},{key:"prev",actionType:r.prev},{key:"reset",actionType:r.reset},{key:"next",actionType:r.next},{key:"rotateLeft",actionType:r.rotateLeft},{key:"rotateRight",actionType:r.rotateRight},{key:"scaleX",actionType:r.scaleX},{key:"scaleY",actionType:r.scaleY},{key:"download",actionType:r.download}];function w(A,e){return A.filter(function(A){return e.indexOf(A.key)<0;});}function E(A){function e(e){var t=null;return void 0!==r[e.actionType]&&(t=n.createElement(M,{type:e.actionType})),e.render&&(t=e.render),n.createElement("li",{key:e.key,className:"".concat(A.prefixCls,"-btn"),onClick:function onClick(){!function(e){A.onAction(e);}(e);},"data-key":e.key},t);}var t=A.attribute?n.createElement("p",{className:"".concat(A.prefixCls,"-attribute")},A.alt&&"".concat(A.alt),A.noImgDetails||n.createElement("span",{className:"".concat(A.prefixCls,"-img-details")},"(".concat(A.width," x ").concat(A.height,")")),A.showTotal&&n.createElement("span",{className:"".concat(A.prefixCls,"-showTotal")},"".concat(A.activeIndex+1," ").concat(A.totalName," ").concat(A.count))):null,i=A.toolbars;return A.zoomable||(i=w(i,["zoomIn","zoomOut"])),A.changeable||(i=w(i,["prev","next"])),A.rotatable||(i=w(i,["rotateLeft","rotateRight"])),A.scalable||(i=w(i,["scaleX","scaleY"])),A.downloadable||(i=w(i,["download"])),n.createElement("div",null,t,n.createElement("ul",{className:"".concat(A.prefixCls,"-toolbar")},i.map(function(A){return e(A);})));}function f(A,e,t){return e in A?Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):A[e]=t,A;}function B(A,e){return function(A){if(Array.isArray(A))return A;}(A)||function(A,e){var t=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null==t)return;var n,i,o=[],r=!0,a=!1;try{for(t=t.call(A);!(r=(n=t.next()).done)&&(o.push(n.value),!e||o.length!==e);r=!0){;}}catch(A){a=!0,i=A;}finally{try{r||null==t.return||t.return();}finally{if(a)throw i;}}return o;}(A,e)||function(A,e){if(!A)return;if("string"==typeof A)return I(A,e);var t=Object.prototype.toString.call(A).slice(8,-1);"Object"===t&&A.constructor&&(t=A.constructor.name);if("Map"===t||"Set"===t)return Array.from(A);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(A,e);}(A,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function I(A,e){(null==e||e>A.length)&&(e=A.length);for(var t=0,n=new Array(e);t<e;t++){n[t]=A[t];}return n;}function y(){return(y=Object.assign||function(A){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t){Object.prototype.hasOwnProperty.call(t,n)&&(A[n]=t[n]);}}return A;}).apply(this,arguments);}function D(){}var v="setVisible",h="setActiveIndex",b="update",m="clear";function N(A,e){return{type:A,payload:e||{}};}var Q=function Q(A){var e,t=A.visible,i=void 0!==t&&t,o=A.onClose,a=void 0===o?D:o,l=A.images,g=void 0===l?[]:l,w=A.activeIndex,I=void 0===w?0:w,Q=A.zIndex,T=void 0===Q?1e3:Q,p=A.drag,x=void 0===p||p,C=A.attribute,j=void 0===C||C,z=A.zoomable,Y=void 0===z||z,L=A.rotatable,k=void 0===L||L,G=A.scalable,O=void 0===G||G,S=A.onMaskClick,U=void 0===S?D:S,R=A.changeable,P=void 0===R||R,H=A.customToolbar,J=void 0===H?function(A){return A;}:H,F=A.zoomSpeed,W=void 0===F?.05:F,Z=A.disableKeyboardSupport,X=void 0!==Z&&Z,V=A.noResetZoomAfterChange,K=void 0!==V&&V,q=A.noLimitInitializationSize,_=void 0!==q&&q,$=A.defaultScale,AA=void 0===$?1:$,eA=A.loop,tA=void 0===eA||eA,nA=A.disableMouseZoom,iA=void 0!==nA&&nA,oA=A.downloadable,rA=void 0!==oA&&oA,aA=A.noImgDetails,cA=void 0!==aA&&aA,lA=A.noToolbar,gA=void 0!==lA&&lA,uA=A.showTotal,sA=void 0===uA||uA,MA=A.totalName,dA=void 0===MA?"of":MA,wA=A.minScale,EA=void 0===wA?.1:wA,fA={visible:!1,visibleStart:!1,transitionEnd:!1,activeIndex:A.activeIndex,width:0,height:0,top:15,left:null,rotate:0,imageWidth:0,imageHeight:0,scaleX:AA,scaleY:AA,loading:!1,loadFailed:!1,startLoading:!1};function BA(){var e=window.innerWidth,t=window.innerHeight;return A.container&&(e=A.container.offsetWidth,t=A.container.offsetHeight),{width:e,height:t};}var IA=n.useRef(BA());var yA=n.useRef(null),DA=n.useRef(!1),vA=n.useRef(0),hA=B(n.useReducer(function(A,e){switch(e.type){case v:return y(y({},A),{visible:e.payload.visible});case h:return y(y({},A),{activeIndex:e.payload.index,startLoading:!0});case b:return y(y({},A),e.payload);case m:return y(y({},A),{width:0,height:0,scaleX:AA,scaleY:AA,rotate:1,imageWidth:0,imageHeight:0,loadFailed:!1,top:0,left:0,loading:!1});}return A;},fA),2),bA=hA[0],mA=hA[1];function NA(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];mA(N(b,{loading:!0,loadFailed:!1}));var n=null;g.length>0&&(n=g[e]);var i=!1,o=new Image();function r(i,o,r){if(e===vA.current){var a=i,c=o;A.defaultSize&&(a=A.defaultSize.width,c=A.defaultSize.height),n.defaultSize&&(a=n.defaultSize.width,c=n.defaultSize.height);var l=B(QA(a,c),2),g=l[0],u=l[1],s=(IA.current.width-g)/2,M=(IA.current.height-u-84)/2,d=AA,w=AA;K&&!t&&(d=bA.scaleX,w=bA.scaleY),mA(N(b,{width:g,height:u,left:s,top:M,imageWidth:i,imageHeight:o,loading:!1,rotate:0,scaleX:d,scaleY:w,loadFailed:!r,startLoading:!1}));}}o.onload=function(){DA.current&&(i||r(o.width,o.height,!0));},o.onerror=function(){DA.current&&(A.defaultImg?(mA(N(b,{loading:!1,loadFailed:!0,startLoading:!1})),r(A.defaultImg.width||.5*IA.current.width,A.defaultImg.height||.5*IA.current.height,!1)):mA(N(b,{loading:!1,loadFailed:!1,startLoading:!1})));},o.src=n.src,o.complete&&(i=!0,r(o.width,o.height,!0));}function QA(A,e){var t=0,n=0,i=.8*IA.current.width,o=.8*(IA.current.height-84);return(n=(t=Math.min(i,A))/A*e)>o&&(t=(n=o)/e*A),_&&(t=A,n=e),[t,n];}function TA(e){if((tA||!(e>=g.length||e<0))&&(e>=g.length&&(e=0),e<0&&(e=g.length-1),e!==bA.activeIndex)){if(A.onChange){var t=pA(e);A.onChange(t,e);}mA(N(h,{index:e}));}}function pA(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e={src:"",alt:"",downloadUrl:""},t=null;return t=void 0!==A?A:bA.activeIndex,g.length>0&&t>=0&&(e=g[t]),e;}function xA(){var A=arguments.length>0&&void 0!==arguments[0]&&arguments[0];mA(N(b,{rotate:bA.rotate+90*(A?1:-1)}));}function CA(e){switch(e){case r.prev:TA(bA.activeIndex-1);break;case r.next:TA(bA.activeIndex+1);break;case r.zoomIn:var t=LA();kA(t.x,t.y,1,W);break;case r.zoomOut:var n=LA();kA(n.x,n.y,-1,W);break;case r.rotateLeft:xA();break;case r.rotateRight:xA(!0);break;case r.reset:NA(bA.activeIndex,!0);break;case r.scaleX:o=-1,mA(N(b,{scaleX:bA.scaleX*o}));break;case r.scaleY:!function(A){mA(N(b,{scaleY:bA.scaleY*A}));}(-1);break;case r.download:(i=pA()).downloadUrl&&(A.downloadInNewWindow?window.open(i.downloadUrl,"_blank"):location.href=i.downloadUrl);}var i,o;}function jA(){var A=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="addEventListener";A&&(e="removeEventListener"),X||document[e]("keydown",zA,!0),yA.current&&yA.current[e]("wheel",YA,!1);}function zA(A){var e=!1;switch(A.keyCode||A.which||A.charCode){case 27:a(),e=!0;break;case 37:A.ctrlKey?CA(r.rotateLeft):CA(r.prev),e=!0;break;case 39:A.ctrlKey?CA(r.rotateRight):CA(r.next),e=!0;break;case 38:CA(r.zoomIn),e=!0;break;case 40:CA(r.zoomOut),e=!0;break;case 49:A.ctrlKey&&(NA(bA.activeIndex),e=!0);}e&&(A.preventDefault(),A.stopPropagation());}function YA(e){if(!iA&&!bA.loading){e.preventDefault();var t=0,n=e.deltaY;if(0!==(t=0===n?0:n>0?-1:1)){var i=e.clientX,o=e.clientY;if(A.container){var r=A.container.getBoundingClientRect();i-=r.left,o-=r.top;}kA(i,o,t,W);}}}function LA(){return{x:bA.left+bA.width/2,y:bA.top+bA.height/2};}function kA(e,t,n,i){var o=LA(),r=e-o.x,a=t-o.y,c=0,l=0,g=0,u=0,s=0,M=0;if(0===bA.width){var d=B(QA(bA.imageWidth,bA.imageHeight),2),w=d[0],E=d[1];l=(IA.current.width-w)/2,c=(IA.current.height-84-E)/2,g=bA.width+w,u=bA.height+E,s=M=1;}else{var f=bA.scaleX>0?1:-1,I=bA.scaleY>0?1:-1;s=bA.scaleX+i*n*f,M=bA.scaleY+i*n*I,void 0!==A.maxScale&&(Math.abs(s)>A.maxScale&&(s=A.maxScale*f),Math.abs(M)>A.maxScale&&(M=A.maxScale*I)),Math.abs(s)<EA&&(s=EA*f),Math.abs(M)<EA&&(M=EA*I),c=bA.top+-n*a/bA.scaleX*i*f,l=bA.left+-n*r/bA.scaleY*i*I,g=bA.width,u=bA.height;}mA(N(b,{width:g,scaleX:s,scaleY:M,height:u,top:c,left:l,loading:!1}));}n.useEffect(function(){return DA.current=!0,function(){DA.current=!1;};},[]),n.useEffect(function(){IA.current=BA();},[A.container]),n.useEffect(function(){i&&DA.current&&mA(N(v,{visible:!0}));},[i]),n.useEffect(function(){return jA(),function(){jA(!0);};}),n.useEffect(function(){return i?A.container||(document.body.style.overflow="hidden",document.body.scrollHeight>document.body.clientHeight&&(document.body.style.paddingRight="15px")):mA(N(m,{})),function(){document.body.style.overflow="",document.body.style.paddingRight="";};},[bA.visible]),n.useEffect(function(){i&&mA(N(h,{index:I}));},[I,i,g]),n.useEffect(function(){bA.startLoading&&(vA.current=bA.activeIndex,NA(bA.activeIndex));},[bA.startLoading,bA.activeIndex]);var GA="react-viewer",OA=c()("".concat(GA),"".concat(GA,"-transition"),(f(e={},"".concat(GA,"-inline"),A.container),f(e,A.className,A.className),e)),SA={opacity:i&&bA.visible?1:0,display:i||bA.visible?"block":"none"},UA={src:"",alt:""};return i&&bA.visible&&!bA.loading&&null!==bA.activeIndex&&!bA.startLoading&&(UA=pA()),n.createElement("div",{className:OA,style:SA,onTransitionEnd:function onTransitionEnd(){i||mA(N(v,{visible:!1}));},ref:yA},n.createElement("div",{className:"".concat(GA,"-mask"),style:{zIndex:T}}),A.noClose||n.createElement("div",{className:"".concat(GA,"-close ").concat(GA,"-btn"),onClick:function onClick(){a();},style:{zIndex:T+10}},n.createElement(M,{type:r.close})),n.createElement(u,{prefixCls:GA,imgSrc:bA.loadFailed&&A.defaultImg.src||UA.src,visible:i,width:bA.width,height:bA.height,top:bA.top,left:bA.left,rotate:bA.rotate,onChangeImgState:function onChangeImgState(A,e,t,n){mA(N(b,{width:A,height:e,top:t,left:n}));},onResize:function onResize(){if(IA.current=BA(),i){var A=(IA.current.width-bA.width)/2,e=(IA.current.height-bA.height-84)/2;mA(N(b,{left:A,top:e}));}},zIndex:T+5,scaleX:bA.scaleX,scaleY:bA.scaleY,loading:bA.loading,drag:x,container:A.container,onCanvasMouseDown:function onCanvasMouseDown(A){U(A);}}),A.noFooter||n.createElement("div",{className:"".concat(GA,"-footer"),style:{zIndex:T+5}},gA||n.createElement(E,{prefixCls:GA,onAction:function onAction(A){if(CA(A.actionType),A.onClick){var e=pA();A.onClick(e);}},alt:UA.alt,width:bA.imageWidth,height:bA.imageHeight,attribute:j,zoomable:Y,rotatable:k,scalable:O,changeable:P,downloadable:rA,noImgDetails:cA,toolbars:J(d),activeIndex:bA.activeIndex,count:g.length,showTotal:sA,totalName:dA}),A.noNavbar||n.createElement(s,{prefixCls:GA,images:A.images,activeIndex:bA.activeIndex,onChangeImg:TA})));};function T(A,e){return function(A){if(Array.isArray(A))return A;}(A)||function(A,e){var t=null==A?null:"undefined"!=typeof Symbol&&A[Symbol.iterator]||A["@@iterator"];if(null==t)return;var n,i,o=[],r=!0,a=!1;try{for(t=t.call(A);!(r=(n=t.next()).done)&&(o.push(n.value),!e||o.length!==e);r=!0){;}}catch(A){a=!0,i=A;}finally{try{r||null==t.return||t.return();}finally{if(a)throw i;}}return o;}(A,e)||function(A,e){if(!A)return;if("string"==typeof A)return p(A,e);var t=Object.prototype.toString.call(A).slice(8,-1);"Object"===t&&A.constructor&&(t=A.constructor.name);if("Map"===t||"Set"===t)return Array.from(A);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(A,e);}(A,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function p(A,e){(null==e||e>A.length)&&(e=A.length);for(var t=0,n=new Array(e);t<e;t++){n[t]=A[t];}return n;}e.default=function(A){var e=n.useRef("undefined"!=typeof document?document.createElement("div"):null),t=T(n.useState(A.container),2),o=t[0],r=t[1],a=T(n.useState(!1),2),c=a[0],l=a[1];return n.useEffect(function(){return document.body.appendChild(e.current),function(){document.body.removeChild(e.current);};},[]),n.useEffect(function(){A.visible&&!c&&l(!0);},[A.visible,c]),n.useEffect(function(){A.container?r(A.container):r(e.current);},[A.container]),c?i.createPortal(n.createElement(Q,A),o):null;};}]);});})(dist);var Viewer=/*@__PURE__*/getDefaultExportFromCjs(dist.exports);function _extends$1(){_extends$1=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends$1.apply(this,arguments);}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}var Context=/*#__PURE__*/react.exports.createContext({});/**
       * Access parent ref tracker.
       */function useRefTrackerContext(){return react.exports.useContext(Context);}var RefTrackerProvider=function RefTrackerProvider(props){return React.createElement(Context.Provider,{value:props.refTracker},props.children);};function createEventManager(){var eventList=new Map();return{on:function on(event,handler){var _eventList$get;//eslint-disable-next-line @typescript-eslint/no-unused-expressions
eventList.has(event)?(_eventList$get=eventList.get(event))==null?void 0:_eventList$get.add(handler):eventList.set(event,new Set([handler]));return this;},off:function off(event,handler){handler?eventList.get(event)["delete"](handler):eventList["delete"](event);return this;},emit:function emit(event,args){{var currentEv=event;if(!eventList.has(event)&&currentEv!==0/* HIDE_ALL */){console.error("It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.","You used the menu id: "+event);}}eventList.has(event)&&eventList.get(event).forEach(function(handler){handler(args);});return this;}};}var eventManager=/*#__PURE__*/createEventManager();function usePrevious(value){var ref=react.exports.useRef();react.exports.useEffect(function(){ref.current=value;},[value]);return ref.current;}/**
       * Used to store children refs
       */function useRefTracker(){return react.exports.useRef(new Map()).current;}var contextMenu={show:function show(_ref){var id=_ref.id,event=_ref.event,props=_ref.props,position=_ref.position;if(event.preventDefault)event.preventDefault();eventManager.emit(0/* HIDE_ALL */).emit(id,{event:event.nativeEvent||event,props:props,position:position});},hideAll:function hideAll(){eventManager.emit(0/* HIDE_ALL */);}};function useContextMenu(props){return{show:function show(event,params){contextMenu.show({id:(params==null?void 0:params.id)||(props==null?void 0:props.id),props:(params==null?void 0:params.props)||(props==null?void 0:props.props),event:event,position:params==null?void 0:params.position});},hideAll:function hideAll(){contextMenu.hideAll();}};}/**
       * Used to control keyboard navigation
       */function createMenuController(){var menuList=new Map();var focusedIndex;var parentNode;var isAtRoot;var currentItems;var forceCloseSubmenu=false;function init(rootMenu){currentItems=rootMenu;focusedIndex=-1;isAtRoot=true;}function focusSelectedItem(){currentItems[focusedIndex].node.focus();}function isSubmenuFocused(){return focusedIndex>=0&&currentItems[focusedIndex].isSubmenu;}function getSubmenuItems(){return Array.from(currentItems[focusedIndex].submenuRefTracker.values());}function isFocused(){if(focusedIndex===-1){// focus first item
moveDown();return false;}return true;}function moveDown(){if(focusedIndex+1<currentItems.length){focusedIndex++;}else if(focusedIndex+1===currentItems.length){focusedIndex=0;}if(forceCloseSubmenu)closeSubmenu();focusSelectedItem();}function moveUp(){if(focusedIndex===-1||focusedIndex===0){focusedIndex=currentItems.length-1;}else if(focusedIndex-1<currentItems.length){focusedIndex--;}if(forceCloseSubmenu)closeSubmenu();focusSelectedItem();}function openSubmenu(){if(isFocused()&&isSubmenuFocused()){var submenuItems=getSubmenuItems();var currentNode=currentItems[focusedIndex].node;menuList.set(currentNode,{isRoot:isAtRoot,focusedIndex:focusedIndex,parentNode:parentNode||currentNode,items:currentItems});currentNode.classList.add("react-contexify__submenu--is-open"/* submenuOpen */);parentNode=currentNode;if(submenuItems.length>0){focusedIndex=0;currentItems=submenuItems;}else{forceCloseSubmenu=true;}isAtRoot=false;focusSelectedItem();return true;}return false;}function closeSubmenu(){if(isFocused()&&!isAtRoot){var _menuList$get=menuList.get(parentNode),isRoot=_menuList$get.isRoot,items=_menuList$get.items,parentFocusedIndex=_menuList$get.focusedIndex,menuParentNode=_menuList$get.parentNode;parentNode.classList.remove("react-contexify__submenu--is-open"/* submenuOpen */);currentItems=items;parentNode=menuParentNode;if(isRoot){isAtRoot=true;menuList.clear();}if(!forceCloseSubmenu){focusedIndex=parentFocusedIndex;focusSelectedItem();}}}return{init:init,moveDown:moveDown,moveUp:moveUp,openSubmenu:openSubmenu,closeSubmenu:closeSubmenu};}var theme={light:'light',dark:'dark'};var animation={fade:'fade',flip:'flip',scale:'scale',slide:'slide'};var NOOP=function NOOP(){};function isFn(v){return typeof v==='function';}function isStr(v){return typeof v==='string';}function isTouchEvent(e){return e.type==='touchend';}function cloneItems(children,props){return react.exports.Children.map(// remove null item
react.exports.Children.toArray(children).filter(Boolean),function(item){return react.exports.cloneElement(item,props);});}function getMousePosition(e){var pos={x:0,y:0};if(isTouchEvent(e)&&e.changedTouches&&e.changedTouches.length>0){pos.x=e.changedTouches[0].clientX;pos.y=e.changedTouches[0].clientY;}else{pos.x=e.clientX;pos.y=e.clientY;}if(!pos.x||pos.x<0)pos.x=0;if(!pos.y||pos.y<0)pos.y=0;return pos;}function getPredicateValue(predicate,payload){return isFn(predicate)?predicate(payload):predicate;}function hasExitAnimation(animation){return!!(animation&&(isStr(animation)||'exit'in animation&&animation.exit));}function reducer(state,payload){return isFn(payload)?_extends$1({},state,payload(state)):_extends$1({},state,payload);}var Menu=function Menu(_ref){var _cx3;var id=_ref.id,theme=_ref.theme,style=_ref.style,className=_ref.className,children=_ref.children,_ref$animation=_ref.animation,animation=_ref$animation===void 0?'scale':_ref$animation,_ref$onHidden=_ref.onHidden,onHidden=_ref$onHidden===void 0?NOOP:_ref$onHidden,_ref$onShown=_ref.onShown,onShown=_ref$onShown===void 0?NOOP:_ref$onShown,rest=_objectWithoutPropertiesLoose(_ref,["id","theme","style","className","children","animation","onHidden","onShown"]);var _useReducer=react.exports.useReducer(reducer,{x:0,y:0,visible:false,triggerEvent:{},propsFromTrigger:null,willLeave:false}),state=_useReducer[0],setState=_useReducer[1];var nodeRef=react.exports.useRef(null);var didMount=react.exports.useRef(false);var wasVisible=usePrevious(state.visible);var refTracker=useRefTracker();var _useState=react.exports.useState(function(){return createMenuController();}),menuController=_useState[0];// subscribe event manager
react.exports.useEffect(function(){didMount.current=true;eventManager.on(id,show).on(0/* HIDE_ALL */,hide);return function(){eventManager.off(id,show).off(0/* HIDE_ALL */,hide);};// hide rely on setState(dispatch), which is guaranted to be the same across render
// eslint-disable-next-line react-hooks/exhaustive-deps
},[id]);// handle show/ hide callback
react.exports.useEffect(function(){if(didMount.current&&state.visible!==wasVisible){state.visible?onShown():onHidden();}// wasWisible is a ref
// eslint-disable-next-line react-hooks/exhaustive-deps
},[state.visible,onHidden,onShown]);// collect menu items for keyboard navigation
react.exports.useEffect(function(){if(!state.visible){refTracker.clear();}else{menuController.init(Array.from(refTracker.values()));}},[state.visible,menuController,refTracker]);// compute menu position
react.exports.useEffect(function(){if(state.visible){var _window=window,windowWidth=_window.innerWidth,windowHeight=_window.innerHeight;var _nodeRef$current=nodeRef.current,menuWidth=_nodeRef$current.offsetWidth,menuHeight=_nodeRef$current.offsetHeight;var _x=state.x,_y=state.y;if(_x+menuWidth>windowWidth){_x-=_x+menuWidth-windowWidth;}if(_y+menuHeight>windowHeight){_y-=_y+menuHeight-windowHeight;}setState({x:_x,y:_y});}// state.visible and state{x,y} are updated together
// eslint-disable-next-line react-hooks/exhaustive-deps
},[state.visible]);// subscribe dom events
react.exports.useEffect(function(){function handleKeyboard(e){e.preventDefault();switch(e.key){case'Enter':if(!menuController.openSubmenu())hide();break;case'Escape':hide();break;case'ArrowUp':menuController.moveUp();break;case'ArrowDown':menuController.moveDown();break;case'ArrowRight':menuController.openSubmenu();break;case'ArrowLeft':menuController.closeSubmenu();break;}}if(state.visible){window.addEventListener('resize',hide);window.addEventListener('contextmenu',hide);window.addEventListener('click',hide);window.addEventListener('scroll',hide);window.addEventListener('keydown',handleKeyboard);// This let us debug the menu in the console in dev mode
{window.addEventListener('blur',hide);}}return function(){window.removeEventListener('resize',hide);window.removeEventListener('contextmenu',hide);window.removeEventListener('click',hide);window.removeEventListener('scroll',hide);window.removeEventListener('keydown',handleKeyboard);{window.removeEventListener('blur',hide);}};// state.visible will let us get the right reference to `hide`
// eslint-disable-next-line react-hooks/exhaustive-deps
},[state.visible,menuController]);function show(_ref2){var event=_ref2.event,props=_ref2.props,position=_ref2.position;event.stopPropagation();var _ref3=position||getMousePosition(event),x=_ref3.x,y=_ref3.y;// prevent react from batching the state update
// if the menu is already visible we have to recompute bounding rect based on position
setTimeout(function(){setState({visible:true,willLeave:false,x:x,y:y,triggerEvent:event,propsFromTrigger:props});},0);}function hide(event){// Safari trigger a click event when you ctrl + trackpad
// Firefox:  trigger a click event when right click occur
var e=event;if(typeof e!=='undefined'&&(e.button===2||e.ctrlKey===true)&&e.type!=='contextmenu'){return;}hasExitAnimation(animation)?setState(function(state){return{willLeave:state.visible};}):setState(function(state){return{visible:state.visible?false:state.visible};});}function handleAnimationEnd(){if(state.willLeave&&state.visible){setState({visible:false,willLeave:false});}}function computeAnimationClasses(){if(!animation)return null;if(isStr(animation)){var _cx;return cx((_cx={},_cx["react-contexify__will-enter--"/* animationWillEnter */+animation]=animation&&visible&&!willLeave,_cx["react-contexify__will-leave--"/* animationWillLeave */+animation+" "+"react-contexify__will-leave--"/* animationWillLeave */+"'disabled'"]=animation&&visible&&willLeave,_cx));}else if('enter'in animation&&'exit'in animation){var _cx2;return cx((_cx2={},_cx2["react-contexify__will-enter--"/* animationWillEnter */+animation.enter]=animation.enter&&visible&&!willLeave,_cx2["react-contexify__will-leave--"/* animationWillLeave */+animation.exit+" "+"react-contexify__will-leave--"/* animationWillLeave */+"'disabled'"]=animation.exit&&visible&&willLeave,_cx2));}return null;}var visible=state.visible,triggerEvent=state.triggerEvent,propsFromTrigger=state.propsFromTrigger,x=state.x,y=state.y,willLeave=state.willLeave;var cssClasses=cx("react-contexify"/* menu */,className,(_cx3={},_cx3["react-contexify__theme--"/* theme */+theme]=theme,_cx3),computeAnimationClasses());var menuStyle=_extends$1({},style,{left:x,top:y,opacity:1});return React.createElement(RefTrackerProvider,{refTracker:refTracker},visible&&React.createElement("div",Object.assign({},rest,{className:cssClasses,onAnimationEnd:handleAnimationEnd,style:menuStyle,ref:nodeRef,role:"menu"}),cloneItems(children,{propsFromTrigger:propsFromTrigger,triggerEvent:triggerEvent})));};var Item=function Item(_ref){var _cx;var children=_ref.children,className=_ref.className,style=_ref.style,triggerEvent=_ref.triggerEvent,data=_ref.data,propsFromTrigger=_ref.propsFromTrigger,_ref$onClick=_ref.onClick,onClick=_ref$onClick===void 0?NOOP:_ref$onClick,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$hidden=_ref.hidden,hidden=_ref$hidden===void 0?false:_ref$hidden,rest=_objectWithoutPropertiesLoose(_ref,["children","className","style","triggerEvent","data","propsFromTrigger","onClick","disabled","hidden"]);var refTracker=useRefTrackerContext();var handlerParams={data:data,triggerEvent:triggerEvent,props:propsFromTrigger};var isDisabled=getPredicateValue(disabled,handlerParams);var isHidden=getPredicateValue(hidden,handlerParams);function handleClick(e){handlerParams.event=e;isDisabled?e.stopPropagation():onClick(handlerParams);}function trackRef(node){if(node&&!isDisabled)refTracker.set(node,{node:node,isSubmenu:false});}function handleKeyDown(e){if(e.key==='Enter'){handlerParams.event=e;onClick(handlerParams);}}if(isHidden)return null;var cssClasses=cx("react-contexify__item"/* item */,className,(_cx={},_cx["react-contexify__item--disabled"/* itemDisabled */]=isDisabled,_cx));return React.createElement("div",Object.assign({},rest,{className:cssClasses,style:style,onClick:handleClick,onKeyDown:handleKeyDown,ref:trackRef,tabIndex:-1,role:"menuitem","aria-disabled":isDisabled}),React.createElement("div",{className:"react-contexify__item__content"/* itemContent */},children));};function Separator(){return React.createElement("div",{className:"react-contexify__separator"/* separator */});}var Submenu=function Submenu(_ref){var _cx;var _ref$arrow=_ref.arrow,arrow=_ref$arrow===void 0?'':_ref$arrow,children=_ref.children,_ref$disabled=_ref.disabled,disabled=_ref$disabled===void 0?false:_ref$disabled,_ref$hidden=_ref.hidden,hidden=_ref$hidden===void 0?false:_ref$hidden,label=_ref.label,className=_ref.className,triggerEvent=_ref.triggerEvent,propsFromTrigger=_ref.propsFromTrigger,style=_ref.style,rest=_objectWithoutPropertiesLoose(_ref,["arrow","children","disabled","hidden","label","className","triggerEvent","propsFromTrigger","style"]);var menuRefTracker=useRefTrackerContext();var refTracker=useRefTracker();var nodeRef=react.exports.useRef(null);var _useState=react.exports.useState({left:'100%',top:0,bottom:'initial'}),position=_useState[0],setPosition=_useState[1];var handlerParams={triggerEvent:triggerEvent,props:propsFromTrigger};var isDisabled=getPredicateValue(disabled,handlerParams);var isHidden=getPredicateValue(hidden,handlerParams);react.exports.useEffect(function(){if(nodeRef.current){var _window=window,innerWidth=_window.innerWidth,innerHeight=_window.innerHeight;var rect=nodeRef.current.getBoundingClientRect();var _style={};if(rect.right<innerWidth){_style.left='100%';_style.right=undefined;}else{_style.right='100%';_style.left=undefined;}if(rect.bottom>innerHeight){_style.bottom=0;_style.top='initial';}else{_style.bottom='initial';}setPosition(_style);}},[]);function handleClick(e){e.stopPropagation();}function trackRef(node){if(node&&!isDisabled)menuRefTracker.set(node,{node:node,isSubmenu:true,submenuRefTracker:refTracker});}if(isHidden)return null;var cssClasses=cx("react-contexify__item"/* item */,className,(_cx={},_cx["react-contexify__item--disabled"/* itemDisabled */]=isDisabled,_cx));var submenuStyle=_extends$1({},style,position);return React.createElement(RefTrackerProvider,{refTracker:refTracker},React.createElement("div",Object.assign({},rest,{className:cssClasses,ref:trackRef,tabIndex:-1,role:"menuitem","aria-haspopup":true,"aria-disabled":isDisabled}),React.createElement("div",{className:"react-contexify__item__content"/* itemContent */,onClick:handleClick},label,React.createElement("span",{className:"react-contexify__submenu-arrow"/* submenuArrow */},arrow)),React.createElement("div",{className:"react-contexify react-contexify__submenu"/* submenu */,ref:nodeRef,style:submenuStyle},cloneItems(children,{propsFromTrigger:propsFromTrigger,// injected by the parent
triggerEvent:triggerEvent}))));};var ReactContexify='';var StreamSaver={exports:{}};/*! streamsaver. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */(function(module){var _this=this;(function(name,definition){module.exports=definition();})('streamSaver',function(){var global=(typeof window==="undefined"?"undefined":_typeof(window))==='object'?window:_this;if(!global.HTMLElement)console.warn('streamsaver is meant to run on browsers main thread');var mitmTransporter=null;var supportsTransferable=false;var test=function test(fn){try{fn();}catch(e){}};var ponyfill=global.WebStreamsPolyfill||{};var isSecureContext=global.isSecureContext;// TODO: Must come up with a real detection test (#69)
var useBlobFallback=/constructor/i.test(global.HTMLElement)||!!global.safari||!!global.WebKitPoint;var downloadStrategy=isSecureContext||'MozAppearance'in document.documentElement.style?'iframe':'navigate';var streamSaver={createWriteStream:createWriteStream,WritableStream:global.WritableStream||ponyfill.WritableStream,supported:true,version:{full:'2.0.5',major:2,minor:0,dot:5},mitm:'https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0'};/**
         * create a hidden iframe and append it to the DOM (body)
         *
         * @param  {string} src page to load
         * @return {HTMLIFrameElement} page to load
         */function makeIframe(src){if(!src)throw new Error('meh');var iframe=document.createElement('iframe');iframe.hidden=true;iframe.src=src;iframe.loaded=false;iframe.name='iframe';iframe.isIframe=true;iframe.postMessage=function(){var _iframe$contentWindow;return(_iframe$contentWindow=iframe.contentWindow).postMessage.apply(_iframe$contentWindow,arguments);};iframe.addEventListener('load',function(){iframe.loaded=true;},{once:true});document.body.appendChild(iframe);return iframe;}/**
         * create a popup that simulates the basic things
         * of what a iframe can do
         *
         * @param  {string} src page to load
         * @return {object}     iframe like object
         */function makePopup(src){var options='width=200,height=100';var delegate=document.createDocumentFragment();var popup={frame:global.open(src,'popup',options),loaded:false,isIframe:false,isPopup:true,remove:function remove(){popup.frame.close();},addEventListener:function addEventListener(){delegate.addEventListener.apply(delegate,arguments);},dispatchEvent:function dispatchEvent(){delegate.dispatchEvent.apply(delegate,arguments);},removeEventListener:function removeEventListener(){delegate.removeEventListener.apply(delegate,arguments);},postMessage:function postMessage(){var _popup$frame;(_popup$frame=popup.frame).postMessage.apply(_popup$frame,arguments);}};var onReady=function onReady(evt){if(evt.source===popup.frame){popup.loaded=true;global.removeEventListener('message',onReady);popup.dispatchEvent(new Event('load'));}};global.addEventListener('message',onReady);return popup;}try{// We can't look for service worker since it may still work on http
new Response(new ReadableStream());if(isSecureContext&&!('serviceWorker'in navigator)){useBlobFallback=true;}}catch(err){useBlobFallback=true;}test(function(){// Transferable stream was first enabled in chrome v73 behind a flag
var _TransformStream=new TransformStream(),readable=_TransformStream.readable;var mc=new MessageChannel();mc.port1.postMessage(readable,[readable]);mc.port1.close();mc.port2.close();supportsTransferable=true;// Freeze TransformStream object (can only work with native)
Object.defineProperty(streamSaver,'TransformStream',{configurable:false,writable:false,value:TransformStream});});function loadTransporter(){if(!mitmTransporter){mitmTransporter=isSecureContext?makeIframe(streamSaver.mitm):makePopup(streamSaver.mitm);}}/**
         * @param  {string} filename filename that should be used
         * @param  {object} options  [description]
         * @param  {number} size     deprecated
         * @return {WritableStream<Uint8Array>}
         */function createWriteStream(filename,options,size){var opts={size:null,pathname:null,writableStrategy:undefined,readableStrategy:undefined};var bytesWritten=0;// by StreamSaver.js (not the service worker)
var downloadUrl=null;var channel=null;var ts=null;// normalize arguments
if(Number.isFinite(options)){var _ref4=[options,size];size=_ref4[0];options=_ref4[1];console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream');opts.size=size;opts.writableStrategy=options;}else if(options&&options.highWaterMark){console.warn('[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream');opts.size=size;opts.writableStrategy=options;}else{opts=options||{};}if(!useBlobFallback){loadTransporter();channel=new MessageChannel();// Make filename RFC5987 compatible
filename=encodeURIComponent(filename.replace(/\//g,':')).replace(/['()]/g,escape).replace(/\*/g,'%2A');var response={transferringReadable:supportsTransferable,pathname:opts.pathname||Math.random().toString().slice(-6)+'/'+filename,headers:{'Content-Type':'application/octet-stream; charset=utf-8','Content-Disposition':"attachment; filename*=UTF-8''"+filename}};if(opts.size){response.headers['Content-Length']=opts.size;}var args=[response,'*',[channel.port2]];if(supportsTransferable){var transformer=downloadStrategy==='iframe'?undefined:{// This transformer & flush method is only used by insecure context.
transform:function transform(chunk,controller){if(!(chunk instanceof Uint8Array)){throw new TypeError('Can only write Uint8Arrays');}bytesWritten+=chunk.length;controller.enqueue(chunk);if(downloadUrl){location.href=downloadUrl;downloadUrl=null;}},flush:function flush(){if(downloadUrl){location.href=downloadUrl;}}};ts=new streamSaver.TransformStream(transformer,opts.writableStrategy,opts.readableStrategy);var readableStream=ts.readable;channel.port1.postMessage({readableStream:readableStream},[readableStream]);}channel.port1.onmessage=function(evt){// Service worker sent us a link that we should open.
if(evt.data.download){// Special treatment for popup...
if(downloadStrategy==='navigate'){mitmTransporter.remove();mitmTransporter=null;if(bytesWritten){location.href=evt.data.download;}else{downloadUrl=evt.data.download;}}else{if(mitmTransporter.isPopup){mitmTransporter.remove();mitmTransporter=null;// Special case for firefox, they can keep sw alive with fetch
if(downloadStrategy==='iframe'){makeIframe(streamSaver.mitm);}}// We never remove this iframes b/c it can interrupt saving
makeIframe(evt.data.download);}}else if(evt.data.abort){chunks=[];channel.port1.postMessage('abort');//send back so controller is aborted
channel.port1.onmessage=null;channel.port1.close();channel.port2.close();channel=null;}};if(mitmTransporter.loaded){var _mitmTransporter;(_mitmTransporter=mitmTransporter).postMessage.apply(_mitmTransporter,args);}else{mitmTransporter.addEventListener('load',function(){var _mitmTransporter2;(_mitmTransporter2=mitmTransporter).postMessage.apply(_mitmTransporter2,args);},{once:true});}}var chunks=[];return!useBlobFallback&&ts&&ts.writable||new streamSaver.WritableStream({write:function write(chunk){if(!(chunk instanceof Uint8Array)){throw new TypeError('Can only write Uint8Arrays');}if(useBlobFallback){// Safari... The new IE6
// https://github.com/jimmywarting/StreamSaver.js/issues/69
//
// even though it has everything it fails to download anything
// that comes from the service worker..!
chunks.push(chunk);return;}// is called when a new chunk of data is ready to be written
// to the underlying sink. It can return a promise to signal
// success or failure of the write operation. The stream
// implementation guarantees that this method will be called
// only after previous writes have succeeded, and never after
// close or abort is called.
// TODO: Kind of important that service worker respond back when
// it has been written. Otherwise we can't handle backpressure
// EDIT: Transferable streams solves this...
channel.port1.postMessage(chunk);bytesWritten+=chunk.length;if(downloadUrl){location.href=downloadUrl;downloadUrl=null;}},close:function close(){if(useBlobFallback){var blob=new Blob(chunks,{type:'application/octet-stream; charset=utf-8'});var link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download=filename;link.click();}else{channel.port1.postMessage('end');}},abort:function abort(){chunks=[];channel.port1.postMessage('abort');channel.port1.onmessage=null;channel.port1.close();channel.port2.close();channel=null;}},opts.writableStrategy);}return streamSaver;});})(StreamSaver);var streamSaver=StreamSaver.exports;var Crc32=/*#__PURE__*/function(){function Crc32(){_classCallCheck(this,Crc32);this.crc=-1;}_createClass(Crc32,[{key:"append",value:function append(data){var crc=this.crc|0;var table=this.table;for(var offset=0,len=data.length|0;offset<len;offset++){crc=crc>>>8^table[(crc^data[offset])&0xFF];}this.crc=crc;}},{key:"get",value:function get(){return~this.crc;}}]);return Crc32;}();Crc32.prototype.table=function(){var i;var j;var t;var table=[];for(i=0;i<256;i++){t=i;for(j=0;j<8;j++){t=t&1?t>>>1^0xEDB88320:t>>>1;}table[i]=t;}return table;}();var getDataHelper=function getDataHelper(byteLength){var uint8=new Uint8Array(byteLength);return{array:uint8,view:new DataView(uint8.buffer)};};var pump=function pump(zipObj){return zipObj.reader.read().then(function(chunk){if(chunk.done)return zipObj.writeFooter();var outputData=chunk.value;zipObj.crc.append(outputData);zipObj.uncompressedLength+=outputData.length;zipObj.compressedLength+=outputData.length;zipObj.ctrl.enqueue(outputData);});};/**
       * [createWriter description]
       * @param  {Object} underlyingSource [description]
       * @return {Boolean}                  [description]
       */function createWriter(underlyingSource){var files=Object.create(null);var filenames=[];var encoder=new TextEncoder();var offset=0;var activeZipIndex=0;var ctrl;var activeZipObject,closed;function next(){activeZipIndex++;activeZipObject=files[filenames[activeZipIndex]];if(activeZipObject)processNextChunk();else if(closed)closeZip();}var zipWriter={enqueue:function enqueue(fileLike){if(closed)throw new TypeError('Cannot enqueue a chunk into a readable stream that is closed or has been requested to be closed');var name=fileLike.name.trim();var date=new Date(typeof fileLike.lastModified==='undefined'?Date.now():fileLike.lastModified);if(fileLike.directory&&!name.endsWith('/'))name+='/';if(files[name])throw new Error('File already exists.');var nameBuf=encoder.encode(name);filenames.push(name);var zipObject=files[name]={level:0,ctrl:ctrl,directory:!!fileLike.directory,nameBuf:nameBuf,comment:encoder.encode(fileLike.comment||''),compressedLength:0,uncompressedLength:0,writeHeader:function writeHeader(){var header=getDataHelper(26);var data=getDataHelper(30+nameBuf.length);zipObject.offset=offset;zipObject.header=header;if(zipObject.level!==0&&!zipObject.directory){header.view.setUint16(4,0x0800);}header.view.setUint32(0,0x14000808);header.view.setUint16(6,(date.getHours()<<6|date.getMinutes())<<5|date.getSeconds()/2,true);header.view.setUint16(8,(date.getFullYear()-1980<<4|date.getMonth()+1)<<5|date.getDate(),true);header.view.setUint16(22,nameBuf.length,true);data.view.setUint32(0,0x504b0304);data.array.set(header.array,4);data.array.set(nameBuf,30);offset+=data.array.length;ctrl.enqueue(data.array);},writeFooter:function writeFooter(){var footer=getDataHelper(16);footer.view.setUint32(0,0x504b0708);if(zipObject.crc){zipObject.header.view.setUint32(10,zipObject.crc.get(),true);zipObject.header.view.setUint32(14,zipObject.compressedLength,true);zipObject.header.view.setUint32(18,zipObject.uncompressedLength,true);footer.view.setUint32(4,zipObject.crc.get(),true);footer.view.setUint32(8,zipObject.compressedLength,true);footer.view.setUint32(12,zipObject.uncompressedLength,true);}ctrl.enqueue(footer.array);offset+=zipObject.compressedLength+16;next();},fileLike:fileLike};if(!activeZipObject){activeZipObject=zipObject;processNextChunk();}},close:function close(){if(closed)throw new TypeError('Cannot close a readable stream that has already been requested to be closed');if(!activeZipObject)closeZip();closed=true;}};function closeZip(){var length=0;var index=0;var indexFilename,file;for(indexFilename=0;indexFilename<filenames.length;indexFilename++){file=files[filenames[indexFilename]];length+=46+file.nameBuf.length+file.comment.length;}var data=getDataHelper(length+22);for(indexFilename=0;indexFilename<filenames.length;indexFilename++){file=files[filenames[indexFilename]];data.view.setUint32(index,0x504b0102);data.view.setUint16(index+4,0x1400);data.array.set(file.header.array,index+6);data.view.setUint16(index+32,file.comment.length,true);if(file.directory){data.view.setUint8(index+38,0x10);}data.view.setUint32(index+42,file.offset,true);data.array.set(file.nameBuf,index+46);data.array.set(file.comment,index+46+file.nameBuf.length);index+=46+file.nameBuf.length+file.comment.length;}data.view.setUint32(index,0x504b0506);data.view.setUint16(index+8,filenames.length,true);data.view.setUint16(index+10,filenames.length,true);data.view.setUint32(index+12,length,true);data.view.setUint32(index+16,offset,true);ctrl.enqueue(data.array);ctrl.close();}function processNextChunk(){if(!activeZipObject)return;if(activeZipObject.directory)return activeZipObject.writeFooter(activeZipObject.writeHeader());if(activeZipObject.reader)return pump(activeZipObject);if(activeZipObject.fileLike.stream){activeZipObject.crc=new Crc32();activeZipObject.reader=activeZipObject.fileLike.stream.getReader();activeZipObject.writeHeader();}else next();}return new ReadableStream({start:function start(c){ctrl=c;underlyingSource.start&&Promise.resolve(underlyingSource.start(zipWriter));},pull:function pull(){return processNextChunk()||underlyingSource.pull&&Promise.resolve(underlyingSource.pull(zipWriter));}});}window.ZIP=createWriter;var totalSize=0;var Downloading=false;var pathJoin=function pathJoin(){for(var _len=arguments.length,paths=new Array(_len),_key=0;_key<_len;_key++){paths[_key]=arguments[_key];}return paths.join("/").replace(/\/{2,}/g,"/");};var trimSlash=function trimSlash(str){return str.replace(/^\/+|\/+$/g,"");};var useDownPackage=function useDownPackage(){var link=useFolderLink();var toast=useToast();var toastIdRef=react.exports.useRef();var _useTranslation=useTranslation(),t=_useTranslation.t;var _useLocation=useLocation(),pathname=_useLocation.pathname;var _react$exports$useCon=react.exports.useContext(IContext),password=_react$exports$useCon.password,getSetting=_react$exports$useCon.getSetting;var FileToDownFile=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(pre,file){var _yield$instance$post,data,files,downFiles,_iterator,_step,f,res;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(file.type!==1)){_context.next=5;break;}totalSize+=file.size;return _context.abrupt("return",[pathJoin(pre,file.name)]);case 5:_context.next=7;return instance.post("path",{path:pathJoin(pathname,pre,file.name),password:password});case 7:_yield$instance$post=_context.sent;data=_yield$instance$post.data;if(!(data.code!==200)){_context.next=13;break;}return _context.abrupt("return",data.message);case 13:files=data.data.files;downFiles=[];_iterator=_createForOfIteratorHelper(files);_context.prev=16;_iterator.s();case 18:if((_step=_iterator.n()).done){_context.next=30;break;}f=_step.value;_context.next=22;return FileToDownFile(pathJoin(pre,file.name),f);case 22:res=_context.sent;if(!(typeof res==="string")){_context.next=27;break;}return _context.abrupt("return",res);case 27:downFiles.push.apply(downFiles,_toConsumableArray(res));case 28:_context.next=18;break;case 30:_context.next=35;break;case 32:_context.prev=32;_context.t0=_context["catch"](16);_iterator.e(_context.t0);case 35:_context.prev=35;_iterator.f();return _context.finish(35);case 38:return _context.abrupt("return",downFiles);case 39:case"end":return _context.stop();}}},_callee,null,[[16,32,35,38]]);}));return function FileToDownFile(_x2,_x3){return _ref5.apply(this,arguments);};}();var encrypt=useEncrypt();var tips=function tips(event){var tip=t("Leaving the page will interrupt the download");if(Downloading){toast({title:tip,status:"warning",duration:3e3,isClosable:true});event.preventDefault();(event||window.event).returnValue=tip;return tip;}};react.exports.useEffect(function(){window.onbeforeunload=tips;return function(){window.onbeforeunload=null;};},[]);return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(files){var nocors,saveName,downFiles,_iterator2,_step2,file,res,fileArr,fileStream,readableZipStream;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:totalSize=0;if(!(files.length===0)){_context2.next=4;break;}toast({title:t("No file selected"),status:"warning",duration:3e3,isClosable:true});return _context2.abrupt("return");case 4:nocors=getSetting("no cors").split(",");if(!files.find(function(f){return nocors.includes(f.driver);})){_context2.next=8;break;}toast({title:t("Not support no-cors package download"),status:"warning",duration:3e3,isClosable:true});return _context2.abrupt("return");case 8:Downloading=true;toastIdRef.current=toast({title:t("Downloading"),description:t("Fetching directory structure"),status:"info",duration:null,isClosable:false});saveName=pathname.split("/").pop();if(files.length===1){saveName=files[0].name;}if(pathname==="/"&&files.length>1){saveName=t("root");}streamSaver.mitm="/public/mitm.html";downFiles=[];_iterator2=_createForOfIteratorHelper(files);_context2.prev=16;_iterator2.s();case 18:if((_step2=_iterator2.n()).done){_context2.next=33;break;}file=_step2.value;_context2.next=22;return FileToDownFile("",file);case 22:res=_context2.sent;if(!(typeof res==="string")){_context2.next=30;break;}toast.closeAll();Downloading=false;toast({title:t(res),status:"error",duration:3e3,isClosable:true});return _context2.abrupt("return",res);case 30:downFiles.push.apply(downFiles,_toConsumableArray(res));case 31:_context2.next=18;break;case 33:_context2.next=38;break;case 35:_context2.prev=35;_context2.t0=_context2["catch"](16);_iterator2.e(_context2.t0);case 38:_context2.prev=38;_iterator2.f();return _context2.finish(38);case 41:toast.update(toastIdRef.current,{title:t("Downloading"),description:t("Downloading files, don't close or refresh the page"),duration:null});fileArr=downFiles.values();fileStream=streamSaver.createWriteStream("".concat(saveName,".zip"),{size:totalSize});readableZipStream=new window.ZIP({pull:function pull(ctrl){var it=fileArr.next();if(it.done){ctrl.close();}else{var name=trimSlash(it.value);if(files.length===1){name=name.replace("".concat(saveName,"/"),"");}var url=encrypt("".concat(link).concat(it.value.startsWith("/")?"":"/").concat(it.value));return fetch(url).then(function(res){ctrl.enqueue({name:name,stream:res.body});});}}});if(!(window.WritableStream&&readableZipStream.pipeTo)){_context2.next=47;break;}return _context2.abrupt("return",readableZipStream.pipeTo(fileStream).then(function(){toast.closeAll();Downloading=false;toast({title:t("Success to download"),status:"success",duration:3e3,isClosable:true});}).catch(function(err){toast.closeAll();Downloading=false;toast({title:t("Failed to download"),description:err.message,status:"error",duration:5e3,isClosable:true});}));case 47:case"end":return _context2.stop();}}},_callee2,null,[[16,35,38,41]]);}));return function(_x4){return _ref6.apply(this,arguments);};}();};var ModalInput=function ModalInput(props){var _useTranslation2=useTranslation(),t=_useTranslation2.t;var initialRef=React.useRef();var _React$useState3=React.useState(props.defaultValue||""),_React$useState4=_slicedToArray(_React$useState3,2),val=_React$useState4[0],setVal=_React$useState4[1];return/* @__PURE__ */React.createElement(Modal,{initialFocusRef:initialRef,isOpen:props.isOpen,onClose:function onClose(){props.onClose();}},/* @__PURE__ */React.createElement(ModalOverlay,null),/* @__PURE__ */React.createElement(ModalContent,null,/* @__PURE__ */React.createElement(ModalHeader,null,t(props.title)),/* @__PURE__ */React.createElement(ModalCloseButton,null),/* @__PURE__ */React.createElement(ModalBody,{pb:6},/* @__PURE__ */React.createElement(Input,{type:props.type,ref:initialRef,value:val,onChange:function onChange(e){setVal(e.target.value);},onKeyUp:function onKeyUp(e){if(e.key==="Enter"){props.onSubmit(val);}}})),/* @__PURE__ */React.createElement(ModalFooter,null,/* @__PURE__ */React.createElement(Button,{onClick:function onClick(){props.onSubmit(val);},mr:3,isLoading:props.loading},t("Ok")),/* @__PURE__ */React.createElement(Button,{colorScheme:"gray",onClick:function onClick(){props.onClose();}},t("Cancel")))));};ModalInput.defaultProps={type:"text"};var NewFolder=function NewFolder(props){var _react$exports$useCon2=react.exports.useContext(IContext),loggedIn=_react$exports$useCon2.loggedIn;var _useTranslation3=useTranslation(),t=_useTranslation3.t;if(!loggedIn)return null;return/* @__PURE__ */React.createElement(Box,null,/* @__PURE__ */React.createElement(Item,{onClick:function onClick(){props.onOpen();}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{boxSize:5,as:FcPlus,mr:2}),t("New folder"))));};var NewFolderInput=function NewFolderInput(props){var _useDisclosure=useDisclosure({defaultIsOpen:true}),isOpen=_useDisclosure.isOpen,_onClose=_useDisclosure.onClose,onOpen=_useDisclosure.onOpen;var _useApi=useApi(),mkdir=_useApi.mkdir;var toast=useToast();var _useTranslation4=useTranslation(),t=_useTranslation4.t;var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),loading=_React$useState6[0],setLoading=_React$useState6[1];return/* @__PURE__ */React.createElement(ModalInput,{title:"Folder name",isOpen:isOpen,loading:loading,onClose:function onClose(){_onClose();props.onClose();},onSubmit:function onSubmit(text){setLoading(true);mkdir(text).then(function(resp){setLoading(false);var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});if(res.code===200){bus.emit("refresh");}});}});};// THIS FILE IS AUTO GENERATED
function CgRename(props){return GenIcon({"tag":"svg","attr":{"viewBox":"0 0 24 24","fill":"none"},"child":[{"tag":"path","attr":{"fillRule":"evenodd","clipRule":"evenodd","d":"M10 4H8V6H5C3.34315 6 2 7.34315 2 9V15C2 16.6569 3.34315 18 5 18H8V20H10V4ZM8 8V16H5C4.44772 16 4 15.5523 4 15V9C4 8.44772 4.44772 8 5 8H8Z","fill":"currentColor"}},{"tag":"path","attr":{"d":"M19 16H12V18H19C20.6569 18 22 16.6569 22 15V9C22 7.34315 20.6569 6 19 6H12V8H19C19.5523 8 20 8.44771 20 9V15C20 15.5523 19.5523 16 19 16Z","fill":"currentColor"}}]})(props);}var currentFile$2={name:"",size:0,type:0,driver:"",updated_at:"",thumbnail:"",url:""};var Rename=function Rename(props){var _react$exports$useCon3=react.exports.useContext(IContext),loggedIn=_react$exports$useCon3.loggedIn;var _useTranslation5=useTranslation(),t=_useTranslation5.t;if(!loggedIn)return null;return/* @__PURE__ */React.createElement(Item,{disabled:props.propsFromTrigger===void 0,onClick:function onClick(){currentFile$2=props.propsFromTrigger;console.log(currentFile$2);props.onOpen();}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{color:useColorModeValue("blue.400","blue.300"),boxSize:5,as:CgRename,mr:2}),t("Rename")));};var RenameInput=function RenameInput(props){var _useDisclosure2=useDisclosure({defaultIsOpen:true}),isOpen=_useDisclosure2.isOpen,_onClose2=_useDisclosure2.onClose,onOpen=_useDisclosure2.onOpen;var _useApi2=useApi(),rename=_useApi2.rename;var toast=useToast();var _useTranslation6=useTranslation(),t=_useTranslation6.t;var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),loading=_React$useState8[0],setLoading=_React$useState8[1];return/* @__PURE__ */React.createElement(ModalInput,{title:"New name",isOpen:isOpen,loading:loading,onClose:function onClose(){_onClose2();props.onClose();},defaultValue:currentFile$2.name,onSubmit:function onSubmit(text){setLoading(true);rename(text,currentFile$2.name).then(function(resp){setLoading(false);var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});if(res.code===200){bus.emit("refresh");}});}});};var FolderTree=function FolderTree(props){var _React$useState9=React.useState({loaded:false,path:"/",children:[]}),_React$useState10=_slicedToArray(_React$useState9,2),data=_React$useState10[0],setData=_React$useState10[1];var _React$useState11=React.useState(""),_React$useState12=_slicedToArray(_React$useState11,2),current=_React$useState12[0],setCurrent=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),loading=_React$useState14[0],setLoading=_React$useState14[1];var toast=useToast();var getNode=function getNode(path,dt,index){if(path==="/"){return dt;}for(var i=0;i<dt.children.length;i++){if(dt.children[i].path===path){return dt.children[i];}else if(path.split("/").slice(0,index).join("/")===dt.children[i].path){return getNode(path,dt.children[i],index+1);}}return null;};var setChildren=function setChildren(path,children,newData){var node=getNode(path,newData,2);if(node){node.children=children.map(function(child){return{loaded:false,path:pathJoin$1(path,child.name),children:[]};});node.loaded=true;}};var loadData=function loadData(path,node){setLoading(true);admin.post("folder",{path:path}).then(function(resp){var res=resp.data;if(res.code===200){if(node){node.unfold=!node.unfold;}var children=res.data;var newData=_objectSpread({},data);setChildren(path,children,newData);setData(newData);}else{toast({title:res.message,status:"error",duration:3e3,isClosable:true});}setLoading(false);});};var onFold=function onFold(path){var node=getNode(path,data,2);if(node&&!node.loaded){loadData(path,node);}else{if(node){node.unfold=!node.unfold;}setData(_objectSpread({},data));}};react.exports.useEffect(function(){onFold("/");},[]);return/* @__PURE__ */React.createElement(Box,{w:"full",h:"full",overflowY:"auto",className:"folder-tree",p:2},/* @__PURE__ */React.createElement(TreeNode,{data:data,current:current,loading:loading,onFold:onFold,onChange:function onChange(val){props.onChange(val);setCurrent(val);}}));};var TreeNode=function TreeNode(props){var _react$exports$useCon4=react.exports.useContext(IContext),getSetting=_react$exports$useCon4.getSetting;return/* @__PURE__ */React.createElement(Box,{w:"full",mt:1,className:"tree-node"},/* @__PURE__ */React.createElement(Flex,{w:"full",align:"center",onClick:function onClick(){props.onChange(props.data.path);},fontSize:"xl"},props.loading&&props.current===props.data.path?/* @__PURE__ */React.createElement(Spinner,{color:getSetting("icon color"),size:"sm",mr:3}):/* @__PURE__ */React.createElement(Icon,{color:getSetting("icon color"),as:props.data.unfold?BsCaretDownFill:BsCaretRightFill,mr:2,onClick:function onClick(){props.onFold(props.data.path);},_hover:{cursor:"pointer"}}),/* @__PURE__ */React.createElement(Icon,{color:getSetting("icon color"),as:IoIosFolder,mr:2}),/* @__PURE__ */React.createElement(Text,{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:"md",_hover:{cursor:"pointer"},rounded:"md",px:1,bgColor:props.current===props.data.path?"rgba(132,133,141,0.28)":"transparent"},props.data.path==="/"?"root":props.data.path.split("/").pop())),props.data.unfold&&/* @__PURE__ */React.createElement(Flex,{w:"full",direction:"column",pl:4},props.data.children.map(function(child){return/* @__PURE__ */React.createElement(TreeNode,{current:props.current,loading:props.loading,key:child.path,data:child,onChange:props.onChange,onFold:props.onFold});})));};var currentFile$1={name:"",size:0,type:0,driver:"",updated_at:"",thumbnail:"",url:""};var Move=function Move(props){var _react$exports$useCon5=react.exports.useContext(IContext),loggedIn=_react$exports$useCon5.loggedIn,multiSelect=_react$exports$useCon5.multiSelect,selectFiles=_react$exports$useCon5.selectFiles;var _useTranslation7=useTranslation(),t=_useTranslation7.t;if(!loggedIn)return null;return/* @__PURE__ */React.createElement(Item,{disabled:props.propsFromTrigger===void 0,onClick:function onClick(){currentFile$1=props.propsFromTrigger;console.log(currentFile$1);props.onOpen();}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{color:useColorModeValue("blue.400","blue.300"),boxSize:5,as:MdDriveFileMove,mr:2}),multiSelect?t("Move {{number}} files",{number:selectFiles.length}):t("Move")));};var MoveSelect=function MoveSelect(props){var _react$exports$useCon6=react.exports.useContext(IContext),multiSelect=_react$exports$useCon6.multiSelect,selectFiles=_react$exports$useCon6.selectFiles;var _useDisclosure3=useDisclosure({defaultIsOpen:true}),isOpen=_useDisclosure3.isOpen,_onClose3=_useDisclosure3.onClose,onOpen=_useDisclosure3.onOpen;var toast=useToast();var _useTranslation8=useTranslation(),t=_useTranslation8.t;var _React$useState15=React.useState(""),_React$useState16=_slicedToArray(_React$useState15,2),dir=_React$useState16[0],setDir=_React$useState16[1];var _useApi3=useApi(),move=_useApi3.move;var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),loading=_React$useState18[0],setLoading=_React$useState18[1];return/* @__PURE__ */React.createElement(Modal,{size:"xl",isOpen:isOpen,onClose:function onClose(){props.onClose();_onClose3();}},/* @__PURE__ */React.createElement(ModalOverlay,null),/* @__PURE__ */React.createElement(ModalContent,null,/* @__PURE__ */React.createElement(ModalHeader,null,t("Select folder")),/* @__PURE__ */React.createElement(ModalCloseButton,null),/* @__PURE__ */React.createElement(ModalBody,{pb:6},/* @__PURE__ */React.createElement(FolderTree,{onChange:function onChange(dir2){setDir(dir2);}})),/* @__PURE__ */React.createElement(ModalFooter,null,/* @__PURE__ */React.createElement(Button,{onClick:function onClick(){console.log("move",currentFile$1,dir);if(!dir){toast({title:t("Please select a folder"),status:"warning",duration:3e3,isClosable:true});return;}var names=[];if(multiSelect){selectFiles.forEach(function(file){names.push(file.name);});}else{names.push(currentFile$1.name);}setLoading(true);move(names,dir).then(function(resp){setLoading(false);var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});if(res.code===200){setTimeout(function(){bus.emit("refresh");},300);}});},mr:3,isLoading:loading},t("Ok")),/* @__PURE__ */React.createElement(Button,{colorScheme:"gray",onClick:function onClick(){props.onClose();}},t("Cancel")))));};var currentFile={name:"",size:0,type:0,driver:"",updated_at:"",thumbnail:"",url:""};var Copy=function Copy(props){var _react$exports$useCon7=react.exports.useContext(IContext),loggedIn=_react$exports$useCon7.loggedIn,multiSelect=_react$exports$useCon7.multiSelect,selectFiles=_react$exports$useCon7.selectFiles;var _useTranslation9=useTranslation(),t=_useTranslation9.t;if(!loggedIn)return null;return/* @__PURE__ */React.createElement(Item,{disabled:props.propsFromTrigger===void 0,onClick:function onClick(){currentFile=props.propsFromTrigger;console.log(currentFile);props.onOpen();}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{color:useColorModeValue("blue.400","blue.300"),boxSize:5,as:FiCopy,mr:2}),multiSelect?t("Copy {{number}} files",{number:selectFiles.length}):t("Copy")));};var CopySelect=function CopySelect(props){var _react$exports$useCon8=react.exports.useContext(IContext),multiSelect=_react$exports$useCon8.multiSelect,selectFiles=_react$exports$useCon8.selectFiles;var _useDisclosure4=useDisclosure({defaultIsOpen:true}),isOpen=_useDisclosure4.isOpen,_onClose4=_useDisclosure4.onClose,onOpen=_useDisclosure4.onOpen;var toast=useToast();var _useTranslation10=useTranslation(),t=_useTranslation10.t;var _React$useState19=React.useState(""),_React$useState20=_slicedToArray(_React$useState19,2),dir=_React$useState20[0],setDir=_React$useState20[1];var _useApi4=useApi(),copy=_useApi4.copy;var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),loading=_React$useState22[0],setLoading=_React$useState22[1];return/* @__PURE__ */React.createElement(Modal,{size:"xl",isOpen:isOpen,onClose:function onClose(){props.onClose();_onClose4();}},/* @__PURE__ */React.createElement(ModalOverlay,null),/* @__PURE__ */React.createElement(ModalContent,null,/* @__PURE__ */React.createElement(ModalHeader,null,t("Select folder")),/* @__PURE__ */React.createElement(ModalCloseButton,null),/* @__PURE__ */React.createElement(ModalBody,{pb:6},/* @__PURE__ */React.createElement(FolderTree,{onChange:function onChange(dir2){setDir(dir2);}})),/* @__PURE__ */React.createElement(ModalFooter,null,/* @__PURE__ */React.createElement(Button,{onClick:function onClick(){console.log("copy",currentFile,dir);if(!dir){toast({title:t("Please select a folder"),status:"warning",duration:3e3,isClosable:true});return;}var names=[];if(multiSelect){selectFiles.forEach(function(file){names.push(file.name);});}else{names.push(currentFile.name);}setLoading(true);copy(names,dir).then(function(resp){setLoading(false);var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});if(res.code===200){setTimeout(function(){bus.emit("refresh");},300);}});},mr:3,isLoading:loading},t("Ok")),/* @__PURE__ */React.createElement(Button,{colorScheme:"gray",onClick:function onClick(){props.onClose();}},t("Cancel")))));};var Refresh=function Refresh(){var _react$exports$useCon9=react.exports.useContext(IContext),loggedIn=_react$exports$useCon9.loggedIn,setPage=_react$exports$useCon9.setPage,page=_react$exports$useCon9.page;var _useTranslation11=useTranslation(),t=_useTranslation11.t;var _useApi5=useApi(),refresh=_useApi5.refresh;var toast=useToast();if(!loggedIn)return null;return/* @__PURE__ */React.createElement(Box,null,/* @__PURE__ */React.createElement(Item,{onClick:function onClick(){refresh().then(function(resp){var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});if(res.code===200){setPage(_objectSpread(_objectSpread({},page),{},{page_num:1}));bus.emit("refresh");}});}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{boxSize:5,as:FcSynchronize,mr:2}),t("Refresh"))));};var downloadWithAria2=function downloadWithAria2(content,aria2){var linkArr=content.split("\n");if(linkArr.length>0){var url=aria2.rpcUrl;var secret=aria2.rpcSecret;if(!url){console.log("rpcUrl \u4E0D\u80FD\u4E3A\u7A7A");}else{var _iterator3=_createForOfIteratorHelper(linkArr),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var link=_step3.value;var id=md5_16(link);var fileNameArr=link.split("/");var fileName=fileNameArr[fileNameArr.length-1];var options={out:fileName,"check-certificate":"false"};var data={id:id,jsonrpc:"2.0",method:"aria2.addUri",params:["token:"+secret,[link],options]};axios.post(url,data).then(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(resp){var res;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:res=resp.data;console.log(res);case 2:case"end":return _context3.stop();}}},_callee3);}));return function(_x5){return _ref7.apply(this,arguments);};}());}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}};var MENU_ID="list-menu";var ContextMenu=function ContextMenu(){var _useTranslation12=useTranslation(),t=_useTranslation12.t;var _react$exports$useCon10=react.exports.useContext(IContext),sort=_react$exports$useCon10.sort,setSort=_react$exports$useCon10.setSort,multiSelect=_react$exports$useCon10.multiSelect,setMultiSelect=_react$exports$useCon10.setMultiSelect,selectFiles=_react$exports$useCon10.selectFiles,loggedIn=_react$exports$useCon10.loggedIn,aria2=_react$exports$useCon10.aria2;useHistory();var menuTheme=useColorModeValue(theme.light,theme.dark);var toast=useToast();var getFileUrl=useFileUrl();var getFileUrlDecode=useFileUrl(false,false);var downPack=useDownPackage();var _useLocation2=useLocation(),pathname=_useLocation2.pathname;var _React$useState23=React.useState({}),_React$useState24=_slicedToArray(_React$useState23,2),isOpen=_React$useState24[0],setIsOpen=_React$useState24[1];function isItemDisabled(_ref8){var props=_ref8.props,data=_ref8.data,triggerEvent=_ref8.triggerEvent;return props===void 0;}return/* @__PURE__ */React.createElement(React.Fragment,null,isOpen.newFolder&&/* @__PURE__ */React.createElement(NewFolderInput,{onClose:function onClose(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{newFolder:false}));}}),isOpen.rename&&/* @__PURE__ */React.createElement(RenameInput,{onClose:function onClose(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{rename:false}));}}),isOpen.move&&/* @__PURE__ */React.createElement(MoveSelect,{onClose:function onClose(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{move:false}));}}),isOpen.copy&&/* @__PURE__ */React.createElement(CopySelect,{onClose:function onClose(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{copy:false}));}}),/* @__PURE__ */React.createElement(Menu,{id:MENU_ID,theme:menuTheme,animation:animation.scale},/* @__PURE__ */React.createElement(Item,{onClick:function onClick(){setMultiSelect(!multiSelect);}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{boxSize:5,as:FcTodoList,mr:2}),t("Multiple select"))),/* @__PURE__ */React.createElement(Refresh,null),/* @__PURE__ */React.createElement(NewFolder,{onOpen:function onOpen(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{newFolder:true}));}}),/* @__PURE__ */React.createElement(Separator,null),/* @__PURE__ */React.createElement(Submenu,{label:/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcSupport,boxSize:5,mr:2}),t("Operations"))},/* @__PURE__ */React.createElement(Rename,{onOpen:function onOpen(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{rename:true}));}}),/* @__PURE__ */React.createElement(Move,{onOpen:function onOpen(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{move:true}));}}),/* @__PURE__ */React.createElement(Copy,{onOpen:function onOpen(){setIsOpen(_objectSpread(_objectSpread({},isOpen),{},{copy:true}));}}),/* @__PURE__ */React.createElement(Item,{disabled:isItemDisabled,onClick:function onClick(_ref9){var props=_ref9.props;var file=props;if(multiSelect){downPack(selectFiles);return;}if(file.type===1){downPack([file]);return;}window.open(getFileUrl(file),"_blank");}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcInternal,boxSize:5,mr:2}),multiSelect?t("Package download {{number}} files",{number:selectFiles.length}):t("Download"))),loggedIn&&/* @__PURE__ */React.createElement(Item,{disabled:isItemDisabled,onClick:function onClick(_ref10){var props=_ref10.props;var content="";if(multiSelect){content=selectFiles.filter(function(file){return file.type!==1;}).map(function(file){return getFileUrlDecode(file);}).join("\n");}else{var file=props;if(file.type===1){toast({title:t("Can't download folder with Aria2"),status:"warning",duration:3e3,isClosable:true});return;}content=getFileUrlDecode(file);}if(!aria2.rpcUrl){toast({title:t("Aria2 is not configured"),status:"error",duration:3e3,isClosable:true});}else{downloadWithAria2(content,aria2);toast({title:t("Sent"),status:"success",duration:3e3,isClosable:true});}}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcDownload,boxSize:5,mr:2}),multiSelect?t("Send {{number}} links to Aria2",{number:selectFiles.length}):t("Send to Aria2"))),/* @__PURE__ */React.createElement(Item,{disabled:isItemDisabled,onClick:function onClick(_ref11){var props=_ref11.props;var content="";if(multiSelect){content=selectFiles.filter(function(file){return file.type!==1;}).map(function(file){return getFileUrl(file);}).join("\n");}else{var file=props;if(file.type===1){toast({title:t("Can't copy folder direact link"),status:"warning",duration:3e3,isClosable:true});return;}content=getFileUrl(file);}copyToClip(content);toast({title:t("Copied"),status:"success",duration:3e3,isClosable:true});}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcLink,boxSize:5,mr:2}),multiSelect?t("Copy links of {{number}} files",{number:selectFiles.length}):t("Copy link"))),/* @__PURE__ */React.createElement(Item,{disabled:isItemDisabled,onClick:function onClick(_ref12){var props=_ref12.props;var content="";if(multiSelect){content=selectFiles.filter(function(file){return file.type!==1;}).map(function(file){return getFileUrlDecode(file);}).join("\n");}else{var file=props;if(file.type===1){toast({title:t("Can't copy folder direact link"),status:"warning",duration:3e3,isClosable:true});return;}content=getFileUrlDecode(file);}copyToClip(content);toast({title:t("Copied"),status:"success",duration:3e3,isClosable:true});}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcLink,boxSize:5,mr:2}),(multiSelect?t("Copy links of {{number}} files",{number:selectFiles.length}):t("Copy link"))+"(Decode)")),loggedIn&&/* @__PURE__ */React.createElement(Item,{disabled:isItemDisabled,onClick:function onClick(_ref13){var props=_ref13.props;var names=[];if(multiSelect){selectFiles.forEach(function(file){names.push(file.name);});}else{var file=props;names.push(file.name);}admin.delete("files",{data:{names:names,path:pathname}}).then(function(resp){var res=resp.data;toast({title:t(res.message),status:res.code===200?"success":"error",duration:3e3,isClosable:true});bus.emit("refresh");});}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:MdDeleteForever,color:useColorModeValue("red.400","red.300"),boxSize:6,mr:1}),multiSelect?t("Delete {{number}} files",{number:selectFiles.length}):t("Delete")))),/* @__PURE__ */React.createElement(Submenu,{label:/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:FcRefresh,boxSize:5,mr:2}),t("Sort by"))},[{name:"name",icon:FcAlphabeticalSortingAz},{name:"size",icon:FcNumericalSorting12},{name:"updated_at",icon:FcClock}].map(function(item){return/* @__PURE__ */React.createElement(Item,{key:item.name,onClick:function onClick(){if(sort.orderBy===item.name){setSort(_objectSpread(_objectSpread({},sort),{},{reverse:!sort.reverse}));}else{setSort({orderBy:item.name,reverse:false});}}},/* @__PURE__ */React.createElement(Flex,{align:"center"},/* @__PURE__ */React.createElement(Icon,{as:item.icon,boxSize:5,mr:2}),t(item.name)));}))));};var Card=function Card(_ref14){var file=_ref14.file,setShowImage=_ref14.setShowImage;var location=useLocation();var _react$exports$useCon11=react.exports.useContext(IContext),getSetting=_react$exports$useCon11.getSetting;var _React$useState25=React.useState(false),_React$useState26=_slicedToArray(_React$useState25,2),error=_React$useState26[0],setError=_React$useState26[1];var to="".concat(location.pathname.endsWith("/")?location.pathname.slice(0,-1):location.pathname,"/").concat(file.name);var isImage=file.type===6;var ComponentBox=isImage?Box:LinkBox;var ComponentLink=isImage?Box:LinkOverlay;var ItemBox=getSetting("animation")==="true"?ScaleFade:Box;var props=getSetting("animation")==="true"?{initialScale:0.9,in:true}:{};var _useContextMenu=useContextMenu({id:MENU_ID,props:file}),show=_useContextMenu.show;return/* @__PURE__ */React.createElement(ItemBox,_objectSpread({},props),/* @__PURE__ */React.createElement(Tooltip,{label:file.name,gutter:8,placement:"auto"},/* @__PURE__ */React.createElement(ComponentBox,{className:"grid-item",w:"full",p:"1",h:"full",cursor:"pointer",onClick:function onClick(){setShowImage(file.name);},onContextMenu:function onContextMenu(e){if(e&&e.stopPropagation){e.stopPropagation();}else{if(window&&window.event){window.event.cancelBubble=true;}}show(e);}},/* @__PURE__ */React.createElement(Flex,{direction:"column",justify:"center",transition:"all 0.3s",_hover:{transform:"scale(1.1)",bgColor:"rgba(132,133,141,0.18)"},h:"full",w:"full",rounded:"lg"},/* @__PURE__ */React.createElement(Flex,{direction:"column",justify:"center",align:"center",h:"70px",p:"1",className:"grid-item-thumbnail"},file.thumbnail&&!error?/* @__PURE__ */React.createElement(Image$1,{rounded:"lg",shadow:"lg",maxH:"full",maxW:"full",src:file.thumbnail,fallback:/* @__PURE__ */React.createElement(reactSpinners.BeatLoader,{color:getSetting("icon color"),size:15}),onError:function onError(){setError(true);}}):/* @__PURE__ */React.createElement(Icon,{color:getSetting("icon color"),boxSize:10,as:getIcon(file.type,file.name.split(".").pop()||"")})),/* @__PURE__ */React.createElement(ComponentLink,{w:"full",as:isImage?Box:Link,to:isImage?"":encodeURI(to),className:"grid-item-name"},/* @__PURE__ */React.createElement(Text,{px:"1",mt:"0px !important",textAlign:"center",w:"full",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:"14px"},file.name))))));};var Grid_=function Grid_(_ref15){var files=_ref15.files,setShowImage=_ref15.setShowImage;return/* @__PURE__ */React.createElement(Box,null,/* @__PURE__ */React.createElement(Grid,{className:"grid-box",templateColumns:"repeat(auto-fill, minmax(100px,1fr))",gap:"2"},files.map(function(file){return/* @__PURE__ */React.createElement(Card,{key:file.name,file:file,setShowImage:setShowImage});})));};var full=function full(p){return p<10?"0"+p:p;};function formatDate(dateStr){var date=new Date(dateStr);var year=date.getFullYear();var mon=date.getMonth()+1;var day=date.getDate();var hour=date.getHours();var min=date.getMinutes();var sec=date.getSeconds();return year+"-"+full(mon)+"-"+full(day)+" "+full(hour)+":"+full(min)+":"+full(sec);}var ListItem=function ListItem(_ref16){var file=_ref16.file;var _useLocation3=useLocation(),pathname=_useLocation3.pathname;var _react$exports$useCon12=react.exports.useContext(IContext),getSetting=_react$exports$useCon12.getSetting,multiSelect=_react$exports$useCon12.multiSelect,selectFiles=_react$exports$useCon12.selectFiles,setSelectFiles=_react$exports$useCon12.setSelectFiles;var _react$exports$useSta=react.exports.useState(false),_react$exports$useSta2=_slicedToArray(_react$exports$useSta,2),cursorOther=_react$exports$useSta2[0],setCursorOther=_react$exports$useSta2[1];var ItemBox=getSetting("animation")==="true"?ScaleFade:Box;var checkboxBorderColor=useColorModeValue("gray.300","gray.500");var _useContextMenu2=useContextMenu({id:MENU_ID,props:file}),show=_useContextMenu2.show;var props=getSetting("animation")==="true"?{initialScale:0.9,in:true}:{};return/* @__PURE__ */React.createElement(ItemBox,_objectSpread({style:{width:"100%"}},props),/* @__PURE__ */React.createElement(LinkBox,{className:"list-item",p:"2",w:"full",rounded:"lg",transition:"all 0.3s",_hover:{transform:"scale(1.01)",bgColor:"rgba(132,133,141,0.18)"},onContextMenu:function onContextMenu(e){if(e&&e.stopPropagation){e.stopPropagation();}else{if(window&&window.event){window.event.cancelBubble=true;}}show(e);}},/* @__PURE__ */React.createElement(LinkOverlay,{as:cursorOther?Box:Link,to:encodeURI("".concat(pathname.endsWith("/")?pathname.slice(0,-1):pathname,"/").concat(file.name))},/* @__PURE__ */React.createElement(HStack,{spacing:2},/* @__PURE__ */React.createElement(Flex,{className:"list-item-name",align:"center",w:{base:3/4,md:"50%"}},multiSelect&&/* @__PURE__ */React.createElement(Checkbox,{_hover:{bgColor:"green.300",rounded:"sm"},colorScheme:"green",onMouseOver:function onMouseOver(){return setCursorOther(true);},onMouseLeave:function onMouseLeave(){return setCursorOther(false);},mr:2,borderColor:checkboxBorderColor,isChecked:selectFiles.includes(file),onChange:function onChange(){if(selectFiles.includes(file)){setSelectFiles(selectFiles.filter(function(f){return f!==file;}));}else{setSelectFiles([].concat(_toConsumableArray(selectFiles),[file]));}}}),/* @__PURE__ */React.createElement(Icon,{color:getSetting("icon color"),boxSize:6,as:getIcon(file.type,file.name.split(".").pop()||""),mr:2}),/* @__PURE__ */React.createElement(Text,{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:"md"},file.name)),/* @__PURE__ */React.createElement(Text,{className:"list-item-size",w:{base:1/4,md:1/6},textAlign:"right"},file.size_str?file.size_str:getFileSize(file.size)),/* @__PURE__ */React.createElement(Text,{className:"list-item-updated_at",w:{base:0,md:1/3},display:{base:"none",md:"unset"},textAlign:"right"},file.time_str?file.time_str:formatDate(file.updated_at))))));};var List=function List(_ref17){var files=_ref17.files;var _useTranslation13=useTranslation(),t=_useTranslation13.t;var _react$exports$useCon13=react.exports.useContext(IContext),sort=_react$exports$useCon13.sort,setSort=_react$exports$useCon13.setSort,multiSelect=_react$exports$useCon13.multiSelect,setSelectFiles=_react$exports$useCon13.setSelectFiles,selectFiles=_react$exports$useCon13.selectFiles;var checkboxBorderColor=useColorModeValue("gray.300","gray.500");return/* @__PURE__ */React.createElement(VStack,{className:"list-box",w:"full"},/* @__PURE__ */React.createElement(HStack,{className:"list-title",w:"full",p:"2"},[{name:"name",base:2/3,md:"50%",textAlign:"left"},{name:"size",base:1/3,md:1/6,textAlign:"right"},{name:"updated_at",base:0,md:1/3,textAlign:"right"}].map(function(item){return/* @__PURE__ */React.createElement(Flex,{w:{base:item.base,md:item.md},key:item.name,align:"center"},multiSelect&&item.name==="name"&&/* @__PURE__ */React.createElement(Checkbox,{colorScheme:"green",mr:2,borderColor:checkboxBorderColor,isIndeterminate:selectFiles.length>0&&selectFiles.length!==files.length,isChecked:selectFiles.length===files.length,onChange:function onChange(){if(selectFiles.length!==0){setSelectFiles([]);}else{setSelectFiles(files);}}}),/* @__PURE__ */React.createElement(Text,{w:"full",className:"list-title-".concat(item.name),fontSize:"sm",fontWeight:"bold",color:"gray.500",textAlign:item.textAlign,cursor:"pointer",display:item.name==="updated_at"?{base:"none",md:"unset"}:"unset",onClick:function onClick(){if(sort.orderBy===item.name){setSort(_objectSpread(_objectSpread({},sort),{},{reverse:!sort.reverse}));}else{setSort({orderBy:item.name,reverse:false});}}},t(item.name)));})),files.map(function(file){return/* @__PURE__ */React.createElement(ListItem,{key:file.name,file:file});}));};function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}var defaultData={current:null,defaultCurrent:1,defaultPage:1,defaultPageSize:10,disabled:false,hideOnSinglePage:false,itemRender:function itemRender(){return null;},pageSize:0,pageNeighbours:0,pageSizeOptions:[10,20,50,100],paginationProps:null,responsive:false,showQuickJumper:false,showSizeChanger:null,showTotal:function showTotal(){return null;},simple:null,total:0,onChange:function onChange(){return'';},onShowSizeChange:function onShowSizeChange(){return'';},size:'md',rounded:'md',baseStyles:null,activeStyles:null,hoverStyles:null,colorScheme:'brand',focusRing:false,basePath:null};var PaginationContext=/*#__PURE__*/React.createContext({});var usePaginationStyles=function usePaginationStyles(props){var _React$useContext=React.useContext(PaginationContext),colorScheme=_React$useContext.colorScheme,rounded=_React$useContext.rounded,size=_React$useContext.size,baseStyles=_React$useContext.baseStyles,activeStyles=_React$useContext.activeStyles,hoverStyles=_React$useContext.hoverStyles;var activeStyle=activeStyles||{bg:useColorModeValue(colorScheme+".600",colorScheme+".500"),color:useColorModeValue('white','gray.200'),cursor:'pointer'};var hoverStyle={_hover:hoverStyles||activeStyle};var baseStyle=baseStyles||{rounded:rounded,bg:useColorModeValue('white','gray.800'),color:useColorModeValue('gray.700','gray.200'),userSelect:'none'};var getSizeStyle=function getSizeStyle(size){var styles={};switch(size){case'xs':styles={px:2,fontSize:'xs'};break;case'sm':styles={px:3,py:1,fontSize:'sm'};break;case'md':styles={px:4,py:1,fontSize:'md'};break;case'lg':styles={px:5,py:2,fontSize:'lg'};break;}return styles;};var sizeStyle=getSizeStyle(size);var disabledStyle={opacity:0.6,cursor:'not-allowed'};return _extends({},sizeStyle,baseStyle,!props.disabled&&hoverStyle,props.active&&activeStyle,props.disabled&&disabledStyle);};var handleResponsive=function handleResponsive(props){var type=props.type,active=props.active,responsive=props.responsive;var show=true;switch(type){case'page':if(!active)show=false;else if(!responsive.activePage)show=false;break;}return!show&&'none';};var PagButton=function PagButton(props){var _React$useContext=React.useContext(PaginationContext),responsive=_React$useContext.responsive,focusRing=_React$useContext.focusRing;var paginationStyles=usePaginationStyles(props);var display={display:[responsive&&handleResponsive(_extends({},props,{responsive:responsive})),'block']};var onClick=!props.disabled?props.onClick:null;var href=props.href?{href:props.href}:{};var focusRingStyles={boxShadow:focusRing?typeof focusRing==='string'?"0 0 0 3px "+focusRing:"0 0 0 3px rgba(66, 153, 225, 0.6)":'none'};return React.createElement(Button,Object.assign({onClick:onClick,as:props.as,mx:1,my:"auto"},paginationStyles,{_first:{ml:0},_last:{mr:0},_focus:focusRingStyles,size:props.size},display,href),props.children);};var LEFT_PAGE='LEFT';var RIGHT_PAGE='RIGHT';/**
       * Helper method for creating a range of numbers
       * range(1, 5) => [1, 2, 3, 4, 5]
       */var range=function range(from,to,step){if(step===void 0){step=1;}var i=from;var range=[];while(i<=to){range.push(i);i+=step;}return range;};var fetchPageNumbers=function fetchPageNumbers(){var props=React.useContext(PaginationContext);var totalPages=Math.ceil(props.total/props.pageSize);var currentPage=props.currentPage;var pageNeighbours=props.pageNeighbours;/**
         * totalNumbers: the total page numbers to show on the control
         * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls
         */var totalNumbers=pageNeighbours*2+3;var totalBlocks=totalNumbers+2;if(totalPages>totalBlocks){var startPage=Math.max(2,currentPage-pageNeighbours);var endPage=Math.min(totalPages-1,currentPage+pageNeighbours);var pages=range(startPage,endPage);/**
           * hasLeftSpill: has hidden pages to the left
           * hasRightSpill: has hidden pages to the right
           * spillOffset: number of hidden pages either to the left or to the right
           */var hasLeftSpill=startPage>2;var hasRightSpill=totalPages-endPage>1;var spillOffset=totalNumbers-(pages.length+1);switch(true){// handle: (1) < {5 6} [7] {8 9} (10)
case hasLeftSpill&&!hasRightSpill:{var extraPages=range(startPage-spillOffset,startPage-1);pages=[LEFT_PAGE].concat(extraPages,pages);break;}// handle: (1) {2 3} [4] {5 6} > (10)
case!hasLeftSpill&&hasRightSpill:{var _extraPages=range(endPage+1,endPage+spillOffset);pages=[].concat(pages,_extraPages,[RIGHT_PAGE]);break;}// handle: (1) < {4 5} [6] {7 8} > (10)
case hasLeftSpill&&hasRightSpill:default:{pages=[LEFT_PAGE].concat(pages,[RIGHT_PAGE]);break;}}return[1].concat(pages,[totalPages]);}return range(1,totalPages);};var PaginationComp=function PaginationComp(){var props=React.useContext(PaginationContext);var totalPages=Math.ceil(props.total/props.pageSize);var prevRender=props.itemRender(props.currentPage,'prev');var nextRender=props.itemRender(props.currentPage,'next');var leftRender=props.itemRender(props.currentPage,'backward');var rightRender=props.itemRender(props.currentPage,'forward');var pageSizeRender=props.itemRender(props.pageSize,'pageSize');var pageRender=props.itemRender(props.currentPage,'page');var totalRender=props.showTotal(props.total);if(!totalPages||props.hideOnSinglePage&&totalPages===1)return null;var pages=fetchPageNumbers();var changePage=function changePage(page){var currentPage=Math.max(0,Math.min(page,totalPages));props.setCurrentPage(currentPage);props.onChange(currentPage,totalPages,props.pageSize,props.total);};var gotoPage=function gotoPage(evt,page){evt.preventDefault();changePage(page);};var fastBackward=function fastBackward(evt){evt.preventDefault();var page=props.currentPage-props.pageNeighbours*2-1;changePage(page);};var fastForward=function fastForward(evt){evt.preventDefault();var page=props.currentPage+props.pageNeighbours*2+1;changePage(page);};var backward=function backward(evt){evt.preventDefault();changePage(props.currentPage-1);};var forward=function forward(evt){evt.preventDefault();changePage(props.currentPage+1);};var changePageSize=function changePageSize(size){props.setPageSize(size);props.onShowSizeChange(props.currentPage,size);};var _React$useState=React.useState(props.currentPage),simplePage=_React$useState[0],setSimplePage=_React$useState[1];var _React$useState2=React.useState(''),pageJumper=_React$useState2[0],setPageJumper=_React$useState2[1];var simplePageUpdate=function simplePageUpdate(e){e.preventDefault();if(isNaN(simplePage)){setSimplePage(props.currentPage);}else{props.setCurrentPage(Math.max(0,Math.min(simplePage,totalPages)));}};var pageJumperUpdate=function pageJumperUpdate(e){e.preventDefault();if(isNaN(pageJumper)){setPageJumper('');}else{props.setCurrentPage(Math.max(0,Math.min(pageJumper,totalPages)));setPageJumper('');}};var responsiveDisplay=function responsiveDisplay(type){if(props.responsive){if(typeof props.responsive!=='boolean'&&Object.keys(props.responsive).includes(type)){return{display:'block'};}return{display:['none','block']};}return{};};var hrefLink=function hrefLink(page){if(props.basePath&&page>0&&page!==props.currentPage){return{href:""+props.basePath+page};}return{};};return props.total>0?React.createElement(Box,Object.assign({},props.paginationProps||{w:'full',justifyContent:'center'}),totalRender!==null&&React.createElement(chakra.span,Object.assign({mx:1,my:"auto",fontSize:props.size},responsiveDisplay('totalRender')),totalRender),props.simple?React.createElement(React.Fragment,null,React.createElement("form",{onSubmit:simplePageUpdate},React.createElement(Input,{textAlign:"center",isDisabled:props.disabled,my:"auto",size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm',w:props.size==='lg'?50:10,value:simplePage,onChange:function onChange(e){return setSimplePage(e.target.value);}})),React.createElement(chakra.span,{userSelect:"none",opacity:props.disabled?0.6:1,mx:1,my:"auto",fontSize:props.size},"/ 5")):React.createElement(React.Fragment,null,React.createElement(PagButton,Object.assign({as:prevRender,disabled:props.currentPage===1||props.disabled,onClick:backward},hrefLink(props.currentPage-1),{size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'}),!prevRender&&'<'),pages.map(function(page,index){if(page==='LEFT')return React.createElement(PagButton,Object.assign({as:leftRender,key:index,onClick:fastBackward},hrefLink(props.currentPage-props.pageNeighbours*2-1),{size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'},responsiveDisplay('fastBackward'),{my:"auto"}),!leftRender&&'<<');if(page==='RIGHT')return React.createElement(PagButton,Object.assign({as:rightRender,key:index,onClick:fastForward},hrefLink(props.currentPage+props.pageNeighbours*2+1),{size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'},responsiveDisplay('fastForward'),{my:"auto"}),!rightRender&&'>>');var active=page===props.currentPage;return React.createElement(PagButton,Object.assign({as:pageRender,disabled:props.disabled,active:active,key:"page-"+index,onClick:function onClick(evt){return gotoPage(evt,page);}},hrefLink(page),{size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm',type:"page"}),page);}),React.createElement(PagButton,Object.assign({as:nextRender,disabled:props.currentPage===totalPages||props.disabled,onClick:forward},hrefLink(props.currentPage+1),{size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'}),!nextRender&&'>')),props.showSizeChanger&&React.createElement(Menu$1,null,React.createElement(PagMenuButton,{ml:1,as:pageSizeRender,disabled:props.disabled,size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'},props.pageSize," / page"),React.createElement(MenuList,null,React.createElement(MenuOptionGroup,{onChange:changePageSize},props.pageSizeOptions.filter(function(opt){return opt!==props.pageSize;}).map(function(opt,oid){return React.createElement(MenuItemOption,{fontSize:props.size,value:opt.toString(),key:"size"+oid},opt," / page");})))),props.showQuickJumper&&React.createElement(HStack,Object.assign({as:"form",userSelect:"none",opacity:props.disabled?0.6:1,ml:2,onSubmit:pageJumperUpdate},responsiveDisplay('pageJumper')),React.createElement(Text,{wordBreak:"unset"},"Go to:"),React.createElement(Input,{width:"50px",value:pageJumper,isDisabled:props.disabled,onChange:function onChange(e){return setPageJumper(e.target.value);},size:props.size==='lg'?'md':props.size==='xs'?'xs':'sm'}))):null;};var PagMenuButton=function PagMenuButton(props){return React.createElement(MenuButton,Object.assign({as:PagButton},props));};var methods=['itemRender','setCurrentPage'];var nonMethods=/*#__PURE__*/Object.keys(defaultData).filter(function(k){return!methods.includes(k);});var filterProps=function filterProps(props){var validProps=nonMethods.reduce(function(acc,nxt){acc.push(props[nxt]);return acc;},[]);return React.useMemo(function(){return props;},validProps);};var Pagination=function Pagination(props){var allProps=_extends({},defaultData,props);var _React$useState=react.exports.useState(allProps.current||allProps.defaultCurrent),currentPage=_React$useState[0],setCurrentPage=_React$useState[1];react.exports.useEffect(function(){props.current&&setCurrentPage(props.current);},[props.current]);var _React$useState2=react.exports.useState(allProps.pageSize>0?allProps.pageSize:allProps.defaultPageSize),pageSize=_React$useState2[0],setPageSize=_React$useState2[1];var contextvalue=_extends({},allProps);var value=react.exports.useMemo(function(){return _extends({},contextvalue,{currentPage:currentPage,setCurrentPage:setCurrentPage,pageSize:pageSize,setPageSize:setPageSize});},[filterProps(contextvalue),currentPage,pageSize]);return react.exports.createElement(PaginationContext.Provider,{value:value},react.exports.createElement(PaginationComp,null));};var LoadMore=function LoadMore(){var _react$exports$useCon14=react.exports.useContext(IContext),type=_react$exports$useCon14.type,files=_react$exports$useCon14.files,meta=_react$exports$useCon14.meta,setPage=_react$exports$useCon14.setPage,page=_react$exports$useCon14.page;var noMore=files.length===meta.total;return/* @__PURE__ */React.createElement(Center,{mt:2},noMore?/* @__PURE__ */React.createElement(Text,{as:"i"},"No more"):/* @__PURE__ */React.createElement(Button,{colorScheme:"gray",isLoading:type==="nexting",onClick:function onClick(){setPage(_objectSpread(_objectSpread({},page),{},{page_num:page.page_num+1}));}},"Load More"));};var nexting=false;var AutoLoadMore=function AutoLoadMore(){var _react$exports$useCon15=react.exports.useContext(IContext),type=_react$exports$useCon15.type,files=_react$exports$useCon15.files,meta=_react$exports$useCon15.meta,setPage=_react$exports$useCon15.setPage,page=_react$exports$useCon15.page,getSetting=_react$exports$useCon15.getSetting;console.log(files.length,meta.total);var noMore=files.length>=meta.total;var dom=react.exports.useRef(null);var bindHandleScroll=function bindHandleScroll(){if(!dom.current){return;}var viewPortHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var top=dom.current.getBoundingClientRect()&&dom.current.getBoundingClientRect().top;if(top<=viewPortHeight){if(nexting){return;}if(type!=="nexting"){console.log("auto load more");window.removeEventListener("scroll",bindHandleScroll);setPage(_objectSpread(_objectSpread({},page),{},{page_num:page.page_num+1}));nexting=true;}}else{nexting=false;}};react.exports.useEffect(function(){window.addEventListener("scroll",bindHandleScroll);return function(){window.removeEventListener("scroll",bindHandleScroll);};},[page,type]);return/* @__PURE__ */React.createElement(Center,{mt:2},noMore?/* @__PURE__ */React.createElement(Text,{as:"i"},"No more"):/* @__PURE__ */React.createElement(Spinner,{ref:dom,color:getSetting("icon color")||"#1890ff",size:"lg"}));};var Pagination_=function Pagination_(){var _react$exports$useCon16=react.exports.useContext(IContext),meta=_react$exports$useCon16.meta,setPage=_react$exports$useCon16.setPage,page=_react$exports$useCon16.page;var size=useBreakpointValue({base:"xs",md:"sm"});var pageNeighbours=useBreakpointValue({base:1,md:2});if(page.page_size>=meta.total){return null;}return/* @__PURE__ */React.createElement(Flex,{mt:2,alignItems:"center",w:"full",justifyContent:"center"},/* @__PURE__ */React.createElement(Pagination,{current:page.page_num,colorScheme:"twitter",total:meta.total,paginationProps:{display:"flex"},pageSize:page.page_size,pageNeighbours:pageNeighbours,size:size,onChange:function onChange(page_num){setPage(_objectSpread(_objectSpread({},page),{},{page_num:page_num||1}));}}));};var Page=function Page(){var _react$exports$useCon17=react.exports.useContext(IContext),getSetting=_react$exports$useCon17.getSetting,meta=_react$exports$useCon17.meta,type=_react$exports$useCon17.type;var loadType=getSetting("load type");if(type==="loading"||meta.driver==="root"){return null;}switch(loadType){case"load more":return/* @__PURE__ */React.createElement(LoadMore,null);case"auto load more":if(type==="nexting"){return null;}return/* @__PURE__ */React.createElement(AutoLoadMore,null);case"pagination":return/* @__PURE__ */React.createElement(Pagination_,null);}return null;};var Files=exports('default',function(){var _react$exports$useCon18=react.exports.useContext(IContext),files=_react$exports$useCon18.files,show=_react$exports$useCon18.show,hideFiles=_react$exports$useCon18.hideFiles;var files_=files;var _useLocation4=useLocation(),pathname=_useLocation4.pathname;files_=files_.filter(function(file){var _iterator4=_createForOfIteratorHelper(hideFiles),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var reg=_step4.value;if(reg.test(pathJoin$1(pathname,file.name))){return false;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}return true;});var link_=useFolderLink();var _React$useState27=React.useState(link_),_React$useState28=_slicedToArray(_React$useState27,2),link=_React$useState28[0],setLink=_React$useState28[1];var encrypt=useEncrypt();var images=files_.filter(function(file){return file.type===6;}).map(function(file){return{src:encrypt("".concat(link,"/").concat(file.name)),alt:file.name,thumbnail:file.thumbnail};});var _React$useState29=React.useState(false),_React$useState30=_slicedToArray(_React$useState29,2),visible=_React$useState30[0],setVisible=_React$useState30[1];var _React$useState31=React.useState(0),_React$useState32=_slicedToArray(_React$useState31,2),index=_React$useState32[0],setIndex=_React$useState32[1];var _useContextMenu3=useContextMenu({id:MENU_ID,props:void 0}),showContextMenu=_useContextMenu3.show;return/* @__PURE__ */React.createElement(Box,{onContextMenu:function onContextMenu(e){console.log(e);showContextMenu(e);},className:"files-box",w:"full"},show==="list"?/* @__PURE__ */React.createElement(List,{files:files_}):/* @__PURE__ */React.createElement(Grid_,{setShowImage:function setShowImage(name){setVisible(true);setIndex(images.findIndex(function(image){return image.alt===name;}));},files:files_}),/* @__PURE__ */React.createElement(Page,null),visible&&/* @__PURE__ */React.createElement(Viewer,{visible:visible,activeIndex:index,onClose:function onClose(){setVisible(false);},onChange:function onChange(_,index2){setIndex(index2);},images:images}),/* @__PURE__ */React.createElement(ContextMenu,null));});}};});})();
